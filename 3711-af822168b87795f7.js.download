(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3711],{76417:function(et,ei,eo){Object.defineProperty(ei,"__esModule",{value:!0});let{Decimal:es,objectEnumValues:ea,makeStrictEnum:eu,Public:el,detectRuntime:ec}=eo(25377),ed={};ei.Prisma=ed,ei.$Enums={},ed.prismaVersion={client:"5.7.0",engine:"79fb5193cf0a8fdbef536e4b4a159cad677ab1b9"},ed.PrismaClientKnownRequestError=()=>{throw Error(`PrismaClientKnownRequestError is unable to be run ${runtimeDescription}.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},ed.PrismaClientUnknownRequestError=()=>{throw Error(`PrismaClientUnknownRequestError is unable to be run ${runtimeDescription}.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},ed.PrismaClientRustPanicError=()=>{throw Error(`PrismaClientRustPanicError is unable to be run ${runtimeDescription}.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},ed.PrismaClientInitializationError=()=>{throw Error(`PrismaClientInitializationError is unable to be run ${runtimeDescription}.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},ed.PrismaClientValidationError=()=>{throw Error(`PrismaClientValidationError is unable to be run ${runtimeDescription}.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},ed.NotFoundError=()=>{throw Error(`NotFoundError is unable to be run ${runtimeDescription}.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},ed.Decimal=es,ed.sql=()=>{throw Error(`sqltag is unable to be run ${runtimeDescription}.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},ed.empty=()=>{throw Error(`empty is unable to be run ${runtimeDescription}.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},ed.join=()=>{throw Error(`join is unable to be run ${runtimeDescription}.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},ed.raw=()=>{throw Error(`raw is unable to be run ${runtimeDescription}.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},ed.validator=el.validator,ed.getExtensionContext=()=>{throw Error(`Extensions.getExtensionContext is unable to be run ${runtimeDescription}.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},ed.defineExtension=()=>{throw Error(`Extensions.defineExtension is unable to be run ${runtimeDescription}.
In case this error is unexpected for you, please report it in https://github.com/prisma/prisma/issues`)},ed.DbNull=ea.instances.DbNull,ed.JsonNull=ea.instances.JsonNull,ed.AnyNull=ea.instances.AnyNull,ed.NullTypes={DbNull:ea.classes.DbNull,JsonNull:ea.classes.JsonNull,AnyNull:ea.classes.AnyNull},ei.Prisma.TransactionIsolationLevel=eu({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),ei.Prisma.UserScalarFieldEnum={id:"id",zapierId:"zapierId",accountIds:"accountIds",isStaff:"isStaff",firstName:"firstName",lastName:"lastName",email:"email",avatarUrl:"avatarUrl",planId:"planId",subscriptionPending:"subscriptionPending",accessToken:"accessToken",refreshToken:"refreshToken",expiresAt:"expiresAt",lastSeenAt:"lastSeenAt",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.UserTokenScalarFieldEnum={userId:"userId",accountId:"accountId",accessToken:"accessToken",refreshToken:"refreshToken",expiresAt:"expiresAt"},ei.Prisma.ProjectScalarFieldEnum={id:"id",name:"name",slug:"slug",customDomain:"customDomain",accountId:"accountId",creatorId:"creatorId",appearance:"appearance",password:"password",secret:"secret",homepageId:"homepageId",embedHosts:"embedHosts",authType:"authType",captchaEnabled:"captchaEnabled",stytchOrganizationId:"stytchOrganizationId",googleAnalyticsTrackingId:"googleAnalyticsTrackingId",hideZapierButton:"hideZapierButton",favicon:"favicon",logo:"logo",globalNavigation:"globalNavigation",includeLogo:"includeLogo",linkedPageIds:"linkedPageIds",navigationLinks:"navigationLinks",isHidden:"isHidden",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.ConsumerScalarFieldEnum={id:"id",projectId:"projectId",email:"email",avatar:"avatar",name:"name"},ei.Prisma.PageScalarFieldEnum={id:"id",name:"name",title:"title",slug:"slug",projectId:"projectId",navigationEnabled:"navigationEnabled",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.BlockScalarFieldEnum={id:"id",type:"type",config:"config",pageId:"pageId",order:"order",parentId:"parentId",blockStateId:"blockStateId",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.BlockActionScalarFieldEnum={id:"id",type:"type",config:"config",blockId:"blockId",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.BlockActionEventScalarFieldEnum={id:"id",type:"type",blockId:"blockId",blockActionId:"blockActionId",values:"values",consumerId:"consumerId",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.BlockStateScalarFieldEnum={id:"id",type:"type",pageId:"pageId",state:"state",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.DatasourceScalarFieldEnum={id:"id",pageId:"pageId",type:"type",config:"config",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.FormSubmissionScalarFieldEnum={id:"id",blockId:"blockId",recordId:"recordId",tableId:"tableId",values:"values",consumerId:"consumerId",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.ChatbotFeedbackScalarFieldEnum={id:"id",blockId:"blockId",chatbotSessionId:"chatbotSessionId",chatbotConfig:"chatbotConfig",conversation:"conversation",message:"message",rating:"rating",comment:"comment",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.ChatbotSessionScalarFieldEnum={id:"id",blockId:"blockId",chatbotConfig:"chatbotConfig",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.ChatbotMessageScalarFieldEnum={id:"id",sessionId:"sessionId",role:"role",content:"content",meta:"meta",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.CollaboratorScalarFieldEnum={zapierId:"zapierId",projectId:"projectId",createdAt:"createdAt"},ei.Prisma.RestHookSubscriptionScalarFieldEnum={id:"id",url:"url",accountId:"accountId",projectId:"projectId",pageId:"pageId",blockType:"blockType",blockId:"blockId",blockActionId:"blockActionId",blockEventType:"blockEventType",type:"type",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.UploadedFileScalarFieldEnum={uuid:"uuid",key:"key",projectId:"projectId",userId:"userId",blockId:"blockId",blockType:"blockType",formSubmissionId:"formSubmissionId",consumerId:"consumerId",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.AccountOverrideScalarFieldEnum={id:"id",accountId:"accountId",paidFeatureAccess:"paidFeatureAccess",projectLimit:"projectLimit",createdAt:"createdAt",updatedAt:"updatedAt"},ei.Prisma.Page_migrationsScalarFieldEnum={id:"id",name:"name",applied_at:"applied_at"},ei.Prisma.SortOrder={asc:"asc",desc:"desc"},ei.Prisma.NullableJsonNullValueInput={DbNull:ed.DbNull,JsonNull:ed.JsonNull},ei.Prisma.JsonNullValueInput={JsonNull:ed.JsonNull},ei.Prisma.QueryMode={default:"default",insensitive:"insensitive"},ei.Prisma.NullsOrder={first:"first",last:"last"},ei.Prisma.JsonNullValueFilter={DbNull:ed.DbNull,JsonNull:ed.JsonNull,AnyNull:ed.AnyNull},ei.ProjectAuthType=ei.$Enums.ProjectAuthType={None:"None",Password:"Password",Consumer:"Consumer"},ei.BlockType=ei.$Enums.BlockType={MarkdownText:"MarkdownText",Links:"Links",LinksCard:"LinksCard",TableListing:"TableListing",Kanban:"Kanban",Form:"Form",Field:"Field",Chatbot:"Chatbot",Media:"Media",Divider:"Divider",Embed:"Embed"},ei.BlockActionType=ei.$Enums.BlockActionType={Navigate:"Navigate",Notify:"Notify",OpenExternalUrl:"OpenExternalUrl",ChatbotButton:"ChatbotButton"},ei.BlockEventType=ei.$Enums.BlockEventType={ChatbotButtonClick:"ChatbotButtonClick",ChatbotFeedback:"ChatbotFeedback"},ei.DatasourceType=ei.$Enums.DatasourceType={ApiZap:"ApiZap"},ei.RestHookSubscriptionType=ei.$Enums.RestHookSubscriptionType={ProjectCreated:"ProjectCreated",PageCreated:"PageCreated",BlockCreated:"BlockCreated",FormCreated:"FormCreated",FormSubmissionCreated:"FormSubmissionCreated",ConsumerCreated:"ConsumerCreated",BlockActionEvent:"BlockActionEvent"},ei.PaidFeature=ei.$Enums.PaidFeature={customColors:"customColors",branding:"branding",embedding:"embedding",customDomain:"customDomain",analytics:"analytics",customTokenLength:"customTokenLength",passwordProtect:"passwordProtect",managedUsers:"managedUsers",chatBotDataSources:"chatBotDataSources",hideZapierButton:"hideZapierButton",dynamicFilters:"dynamicFilters",collaborators:"collaborators",conditionalLogic:"conditionalLogic",fileSizeLimit10mb:"fileSizeLimit10mb",fileSizeLimit25mb:"fileSizeLimit25mb",projectMagicLinkAuth:"projectMagicLinkAuth",projectSignInWithGoogleAuth:"projectSignInWithGoogleAuth"},ei.Prisma.ModelName={User:"User",UserToken:"UserToken",Project:"Project",Consumer:"Consumer",Page:"Page",Block:"Block",BlockAction:"BlockAction",BlockActionEvent:"BlockActionEvent",BlockState:"BlockState",Datasource:"Datasource",FormSubmission:"FormSubmission",ChatbotFeedback:"ChatbotFeedback",ChatbotSession:"ChatbotSession",ChatbotMessage:"ChatbotMessage",Collaborator:"Collaborator",RestHookSubscription:"RestHookSubscription",UploadedFile:"UploadedFile",AccountOverride:"AccountOverride",page_migrations:"page_migrations"};let PrismaClient=class PrismaClient{constructor(){return new Proxy(this,{get(et,ei){let eo=ec(),es={workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Vercel Edge Functions"}[eo],ea="PrismaClient is unable to run in ";throw void 0!==es?ea+=es+". As an alternative, try Accelerate: https://pris.ly/d/accelerate.":ea+="this browser environment, or has been bundled for the browser (running in `"+eo+"`).",Error(ea+=`
If this is unexpected, please open an issue: https://github.com/prisma/prisma/issues`)}})}};ei.PrismaClient=PrismaClient,Object.assign(ei,ed)},51188:function(et,ei,eo){let es=eo(76417);et.exports=es},25377:function(et){"use strict";var ei=Object.defineProperty,eo=Object.getOwnPropertyDescriptor,es=Object.getOwnPropertyNames,ea=Object.prototype.hasOwnProperty,Ce=(et,eo)=>{for(var es in eo)ei(et,es,{get:eo[es],enumerable:!0})},Ge=(et,eu,el,ec)=>{if(eu&&"object"==typeof eu||"function"==typeof eu)for(let ed of es(eu))ea.call(et,ed)||ed===el||ei(et,ed,{get:()=>eu[ed],enumerable:!(ec=eo(eu,ed))||ec.enumerable});return et},Xe=et=>Ge(ei({},"__esModule",{value:!0}),et),eu={};Ce(eu,{Decimal:()=>eZ,Public:()=>el,detectRuntime:()=>He,makeStrictEnum:()=>Pe,objectEnumValues:()=>ey}),et.exports=Xe(eu);var el={};function Me(...et){return et=>et}Ce(el,{validator:()=>Me});var ec=Symbol(),ed=new WeakMap,ef=class{constructor(et){et===ec?ed.set(this,"Prisma.".concat(this._getName())):ed.set(this,"new Prisma.".concat(this._getNamespace(),".").concat(this._getName(),"()"))}_getName(){return this.constructor.name}toString(){return ed.get(this)}},ep=class extends ef{_getNamespace(){return"NullTypes"}},eh=class extends ep{};me(eh,"DbNull");var eg=class extends ep{};me(eg,"JsonNull");var em=class extends ep{};me(em,"AnyNull");var ey={classes:{DbNull:eh,JsonNull:eg,AnyNull:em},instances:{DbNull:new eh(ec),JsonNull:new eg(ec),AnyNull:new em(ec)}};function me(et,ei){Object.defineProperty(et,"name",{value:ei,configurable:!0})}var eb=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function Pe(et){return new Proxy(et,{get(et,ei){if(ei in et)return et[ei];if(!eb.has(ei))throw TypeError("Invalid enum value: ".concat(String(ei)))}})}var ev,ew,eS=9e15,eA=1e9,ex="0123456789abcdef",eE="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ek="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",eC={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},e_=!0,ej="[DecimalError] ",eO=ej+"Invalid argument: ",eT=ej+"Precision limit exceeded",eN=ej+"crypto unavailable",eF="[object Decimal]",eI=Math.floor,eD=Math.pow,eP=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ez=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,eU=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,eB=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,eV=1e7,eM=7,eR=9007199254740991,eL=eE.length-1,eq=ek.length-1,eW={toStringTag:eF};function O(et){var ei,eo,es,ea=et.length-1,eu="",el=et[0];if(ea>0){for(eu+=el,ei=1;ei<ea;ei++)(eo=eM-(es=et[ei]+"").length)&&(eu+=U(eo)),eu+=es;(eo=eM-(es=(el=et[ei])+"").length)&&(eu+=U(eo))}else if(0===el)return"0";for(;el%10==0;)el/=10;return eu+el}function q(et,ei,eo){if(et!==~~et||et<ei||et>eo)throw Error(eO+et)}function Q(et,ei,eo,es){var ea,eu,el,ec;for(eu=et[0];eu>=10;eu/=10)--ei;return--ei<0?(ei+=eM,ea=0):(ea=Math.ceil((ei+1)/eM),ei%=eM),eu=eD(10,eM-ei),ec=et[ea]%eu|0,null==es?ei<3?(0==ei?ec=ec/100|0:1==ei&&(ec=ec/10|0),el=eo<4&&99999==ec||eo>3&&49999==ec||5e4==ec||0==ec):el=(eo<4&&ec+1==eu||eo>3&&ec+1==eu/2)&&(et[ea+1]/eu/100|0)==eD(10,ei-2)-1||(ec==eu/2||0==ec)&&(et[ea+1]/eu/100|0)==0:ei<4?(0==ei?ec=ec/1e3|0:1==ei?ec=ec/100|0:2==ei&&(ec=ec/10|0),el=(es||eo<4)&&9999==ec||!es&&eo>3&&4999==ec):el=((es||eo<4)&&ec+1==eu||!es&&eo>3&&ec+1==eu/2)&&(et[ea+1]/eu/1e3|0)==eD(10,ei-3)-1,el}function ie(et,ei,eo){for(var es,ea,eu=[0],el=0,ec=et.length;el<ec;){for(ea=eu.length;ea--;)eu[ea]*=ei;for(eu[0]+=ex.indexOf(et.charAt(el++)),es=0;es<eu.length;es++)eu[es]>eo-1&&(void 0===eu[es+1]&&(eu[es+1]=0),eu[es+1]+=eu[es]/eo|0,eu[es]%=eo)}return eu.reverse()}function en(et,ei){var eo,es,ea;if(ei.isZero())return ei;(es=ei.d.length)<32?ea=(1/fe(4,eo=Math.ceil(es/3))).toString():(eo=16,ea="2.3283064365386962890625e-10"),et.precision+=eo,ei=J(et,1,ei.times(ea),new et(1));for(var eu=eo;eu--;){var el=ei.times(ei);ei=el.times(el).minus(el).times(8).plus(1)}return et.precision-=eo,ei}eW.absoluteValue=eW.abs=function(){var et=new this.constructor(this);return et.s<0&&(et.s=1),p(et)},eW.ceil=function(){return p(new this.constructor(this),this.e+1,2)},eW.clampedTo=eW.clamp=function(et,ei){var eo=this,es=eo.constructor;if(et=new es(et),ei=new es(ei),!et.s||!ei.s)return new es(NaN);if(et.gt(ei))throw Error(eO+ei);return 0>eo.cmp(et)?et:eo.cmp(ei)>0?ei:new es(eo)},eW.comparedTo=eW.cmp=function(et){var ei,eo,es,ea,eu=this,el=eu.d,ec=(et=new eu.constructor(et)).d,ed=eu.s,ef=et.s;if(!el||!ec)return ed&&ef?ed!==ef?ed:el===ec?0:!el^ed<0?1:-1:NaN;if(!el[0]||!ec[0])return el[0]?ed:ec[0]?-ef:0;if(ed!==ef)return ed;if(eu.e!==et.e)return eu.e>et.e^ed<0?1:-1;for(es=el.length,ea=ec.length,ei=0,eo=es<ea?es:ea;ei<eo;++ei)if(el[ei]!==ec[ei])return el[ei]>ec[ei]^ed<0?1:-1;return es===ea?0:es>ea^ed<0?1:-1},eW.cosine=eW.cos=function(){var et,ei,eo=this,es=eo.constructor;return eo.d?eo.d[0]?(et=es.precision,ei=es.rounding,es.precision=et+Math.max(eo.e,eo.sd())+eM,es.rounding=1,eo=en(es,Be(es,eo)),es.precision=et,es.rounding=ei,p(2==ew||3==ew?eo.neg():eo,et,ei,!0)):new es(1):new es(NaN)},eW.cubeRoot=eW.cbrt=function(){var et,ei,eo,es,ea,eu,el,ec,ed,ef,ep=this,eh=ep.constructor;if(!ep.isFinite()||ep.isZero())return new eh(ep);for(e_=!1,(eu=ep.s*eD(ep.s*ep,1/3))&&Math.abs(eu)!=1/0?es=new eh(eu.toString()):(eo=O(ep.d),(eu=((et=ep.e)-eo.length+1)%3)&&(eo+=1==eu||-2==eu?"0":"00"),eu=eD(eo,1/3),et=eI((et+1)/3)-(et%3==(et<0?-1:2)),eo=eu==1/0?"5e"+et:(eo=eu.toExponential()).slice(0,eo.indexOf("e")+1)+et,(es=new eh(eo)).s=ep.s),el=(et=eh.precision)+3;;)if(es=e$((ef=(ed=(ec=es).times(ec).times(ec)).plus(ep)).plus(ep).times(ec),ef.plus(ed),el+2,1),O(ec.d).slice(0,el)===(eo=O(es.d)).slice(0,el)){if("9999"!=(eo=eo.slice(el-3,el+1))&&(ea||"4999"!=eo)){+eo&&(+eo.slice(1)||"5"!=eo.charAt(0))||(p(es,et+1,1),ei=!es.times(es).times(es).eq(ep));break}if(!ea&&(p(ec,et+1,0),ec.times(ec).times(ec).eq(ep))){es=ec;break}el+=4,ea=1}return e_=!0,p(es,et,eh.rounding,ei)},eW.decimalPlaces=eW.dp=function(){var et,ei=this.d,eo=NaN;if(ei){if(eo=((et=ei.length-1)-eI(this.e/eM))*eM,et=ei[et])for(;et%10==0;et/=10)eo--;eo<0&&(eo=0)}return eo},eW.dividedBy=eW.div=function(et){return e$(this,new this.constructor(et))},eW.dividedToIntegerBy=eW.divToInt=function(et){var ei=this,eo=ei.constructor;return p(e$(ei,new eo(et),0,1,1),eo.precision,eo.rounding)},eW.equals=eW.eq=function(et){return 0===this.cmp(et)},eW.floor=function(){return p(new this.constructor(this),this.e+1,3)},eW.greaterThan=eW.gt=function(et){return this.cmp(et)>0},eW.greaterThanOrEqualTo=eW.gte=function(et){var ei=this.cmp(et);return 1==ei||0===ei},eW.hyperbolicCosine=eW.cosh=function(){var et,ei,eo,es,ea,eu=this,el=eu.constructor,ec=new el(1);if(!eu.isFinite())return new el(eu.s?1/0:NaN);if(eu.isZero())return ec;eo=el.precision,es=el.rounding,el.precision=eo+Math.max(eu.e,eu.sd())+4,el.rounding=1,(ea=eu.d.length)<32?ei=(1/fe(4,et=Math.ceil(ea/3))).toString():(et=16,ei="2.3283064365386962890625e-10"),eu=J(el,1,eu.times(ei),new el(1),!0);for(var ed,ef=et,ep=new el(8);ef--;)ed=eu.times(eu),eu=ec.minus(ed.times(ep.minus(ed.times(ep))));return p(eu,el.precision=eo,el.rounding=es,!0)},eW.hyperbolicSine=eW.sinh=function(){var et,ei,eo,es,ea=this,eu=ea.constructor;if(!ea.isFinite()||ea.isZero())return new eu(ea);if(ei=eu.precision,eo=eu.rounding,eu.precision=ei+Math.max(ea.e,ea.sd())+4,eu.rounding=1,(es=ea.d.length)<3)ea=J(eu,2,ea,ea,!0);else{et=(et=1.4*Math.sqrt(es))>16?16:0|et,ea=J(eu,2,ea=ea.times(1/fe(5,et)),ea,!0);for(var el,ec=new eu(5),ed=new eu(16),ef=new eu(20);et--;)el=ea.times(ea),ea=ea.times(ec.plus(el.times(ed.times(el).plus(ef))))}return eu.precision=ei,eu.rounding=eo,p(ea,ei,eo,!0)},eW.hyperbolicTangent=eW.tanh=function(){var et,ei,eo=this,es=eo.constructor;return eo.isFinite()?eo.isZero()?new es(eo):(et=es.precision,ei=es.rounding,es.precision=et+7,es.rounding=1,e$(eo.sinh(),eo.cosh(),es.precision=et,es.rounding=ei)):new es(eo.s)},eW.inverseCosine=eW.acos=function(){var et,ei=this,eo=ei.constructor,es=ei.abs().cmp(1),ea=eo.precision,eu=eo.rounding;return -1!==es?0===es?ei.isNeg()?R(eo,ea,eu):new eo(0):new eo(NaN):ei.isZero()?R(eo,ea+4,eu).times(.5):(eo.precision=ea+6,eo.rounding=1,ei=ei.asin(),et=R(eo,ea+4,eu).times(.5),eo.precision=ea,eo.rounding=eu,et.minus(ei))},eW.inverseHyperbolicCosine=eW.acosh=function(){var et,ei,eo=this,es=eo.constructor;return eo.lte(1)?new es(eo.eq(1)?0:NaN):eo.isFinite()?(et=es.precision,ei=es.rounding,es.precision=et+Math.max(Math.abs(eo.e),eo.sd())+4,es.rounding=1,e_=!1,eo=eo.times(eo).minus(1).sqrt().plus(eo),e_=!0,es.precision=et,es.rounding=ei,eo.ln()):new es(eo)},eW.inverseHyperbolicSine=eW.asinh=function(){var et,ei,eo=this,es=eo.constructor;return!eo.isFinite()||eo.isZero()?new es(eo):(et=es.precision,ei=es.rounding,es.precision=et+2*Math.max(Math.abs(eo.e),eo.sd())+6,es.rounding=1,e_=!1,eo=eo.times(eo).plus(1).sqrt().plus(eo),e_=!0,es.precision=et,es.rounding=ei,eo.ln())},eW.inverseHyperbolicTangent=eW.atanh=function(){var et,ei,eo,es,ea=this,eu=ea.constructor;return ea.isFinite()?ea.e>=0?new eu(ea.abs().eq(1)?ea.s/0:ea.isZero()?ea:NaN):(et=eu.precision,ei=eu.rounding,Math.max(es=ea.sd(),et)<-(2*ea.e)-1?p(new eu(ea),et,ei,!0):(eu.precision=eo=es-ea.e,ea=e$(ea.plus(1),new eu(1).minus(ea),eo+et,1),eu.precision=et+4,eu.rounding=1,ea=ea.ln(),eu.precision=et,eu.rounding=ei,ea.times(.5))):new eu(NaN)},eW.inverseSine=eW.asin=function(){var et,ei,eo,es,ea=this,eu=ea.constructor;return ea.isZero()?new eu(ea):(ei=ea.abs().cmp(1),eo=eu.precision,es=eu.rounding,-1!==ei?0===ei?((et=R(eu,eo+4,es).times(.5)).s=ea.s,et):new eu(NaN):(eu.precision=eo+6,eu.rounding=1,ea=ea.div(new eu(1).minus(ea.times(ea)).sqrt().plus(1)).atan(),eu.precision=eo,eu.rounding=es,ea.times(2)))},eW.inverseTangent=eW.atan=function(){var et,ei,eo,es,ea,eu,el,ec,ed,ef=this,ep=ef.constructor,eh=ep.precision,eg=ep.rounding;if(ef.isFinite()){if(ef.isZero())return new ep(ef);if(ef.abs().eq(1)&&eh+4<=eq)return(el=R(ep,eh+4,eg).times(.25)).s=ef.s,el}else{if(!ef.s)return new ep(NaN);if(eh+4<=eq)return(el=R(ep,eh+4,eg).times(.5)).s=ef.s,el}for(ep.precision=ec=eh+10,ep.rounding=1,et=eo=Math.min(28,ec/eM+2|0);et;--et)ef=ef.div(ef.times(ef).plus(1).sqrt().plus(1));for(e_=!1,ei=Math.ceil(ec/eM),es=1,ed=ef.times(ef),el=new ep(ef),ea=ef;-1!==et;)if(ea=ea.times(ed),eu=el.minus(ea.div(es+=2)),ea=ea.times(ed),void 0!==(el=eu.plus(ea.div(es+=2))).d[ei])for(et=ei;el.d[et]===eu.d[et]&&et--;);return eo&&(el=el.times(2<<eo-1)),e_=!0,p(el,ep.precision=eh,ep.rounding=eg,!0)},eW.isFinite=function(){return!!this.d},eW.isInteger=eW.isInt=function(){return!!this.d&&eI(this.e/eM)>this.d.length-2},eW.isNaN=function(){return!this.s},eW.isNegative=eW.isNeg=function(){return this.s<0},eW.isPositive=eW.isPos=function(){return this.s>0},eW.isZero=function(){return!!this.d&&0===this.d[0]},eW.lessThan=eW.lt=function(et){return 0>this.cmp(et)},eW.lessThanOrEqualTo=eW.lte=function(et){return 1>this.cmp(et)},eW.logarithm=eW.log=function(et){var ei,eo,es,ea,eu,el,ec,ed,ef=this,ep=ef.constructor,eh=ep.precision,eg=ep.rounding,em=5;if(null==et)et=new ep(10),ei=!0;else{if(eo=(et=new ep(et)).d,et.s<0||!eo||!eo[0]||et.eq(1))return new ep(NaN);ei=et.eq(10)}if(eo=ef.d,ef.s<0||!eo||!eo[0]||ef.eq(1))return new ep(eo&&!eo[0]?-1/0:1!=ef.s?NaN:eo?0:1/0);if(ei){if(eo.length>1)eu=!0;else{for(ea=eo[0];ea%10==0;)ea/=10;eu=1!==ea}}if(e_=!1,Q((ed=e$(el=B(ef,ec=eh+em),es=ei?se(ep,ec+10):B(et,ec),ec,1)).d,ea=eh,eg))do if(ec+=10,ed=e$(el=B(ef,ec),es=ei?se(ep,ec+10):B(et,ec),ec,1),!eu){+O(ed.d).slice(ea+1,ea+15)+1==1e14&&(ed=p(ed,eh+1,0));break}while(Q(ed.d,ea+=10,eg));return e_=!0,p(ed,eh,eg)},eW.minus=eW.sub=function(et){var ei,eo,es,ea,eu,el,ec,ed,ef,ep,eh,eg,em=this,ey=em.constructor;if(et=new ey(et),!em.d||!et.d)return em.s&&et.s?em.d?et.s=-et.s:et=new ey(et.d||em.s!==et.s?em:NaN):et=new ey(NaN),et;if(em.s!=et.s)return et.s=-et.s,em.plus(et);if(ef=em.d,eg=et.d,ec=ey.precision,ed=ey.rounding,!ef[0]||!eg[0]){if(eg[0])et.s=-et.s;else{if(!ef[0])return new ey(3===ed?-0:0);et=new ey(em)}return e_?p(et,ec,ed):et}if(eo=eI(et.e/eM),ep=eI(em.e/eM),ef=ef.slice(),eu=ep-eo){for((eh=eu<0)?(ei=ef,eu=-eu,el=eg.length):(ei=eg,eo=ep,el=ef.length),eu>(es=Math.max(Math.ceil(ec/eM),el)+2)&&(eu=es,ei.length=1),ei.reverse(),es=eu;es--;)ei.push(0);ei.reverse()}else{for((eh=(es=ef.length)<(el=eg.length))&&(el=es),es=0;es<el;es++)if(ef[es]!=eg[es]){eh=ef[es]<eg[es];break}eu=0}for(eh&&(ei=ef,ef=eg,eg=ei,et.s=-et.s),el=ef.length,es=eg.length-el;es>0;--es)ef[el++]=0;for(es=eg.length;es>eu;){if(ef[--es]<eg[es]){for(ea=es;ea&&0===ef[--ea];)ef[ea]=eV-1;--ef[ea],ef[es]+=eV}ef[es]-=eg[es]}for(;0===ef[--el];)ef.pop();for(;0===ef[0];ef.shift())--eo;return ef[0]?(et.d=ef,et.e=ue(ef,eo),e_?p(et,ec,ed):et):new ey(3===ed?-0:0)},eW.modulo=eW.mod=function(et){var ei,eo=this,es=eo.constructor;return et=new es(et),eo.d&&et.s&&(!et.d||et.d[0])?et.d&&(!eo.d||eo.d[0])?(e_=!1,9==es.modulo?(ei=e$(eo,et.abs(),0,3,1),ei.s*=et.s):ei=e$(eo,et,0,es.modulo,1),ei=ei.times(et),e_=!0,eo.minus(ei)):p(new es(eo),es.precision,es.rounding):new es(NaN)},eW.naturalExponential=eW.exp=function(){return Ee(this)},eW.naturalLogarithm=eW.ln=function(){return B(this)},eW.negated=eW.neg=function(){var et=new this.constructor(this);return et.s=-et.s,p(et)},eW.plus=eW.add=function(et){var ei,eo,es,ea,eu,el,ec,ed,ef,ep,eh=this,eg=eh.constructor;if(et=new eg(et),!eh.d||!et.d)return eh.s&&et.s?eh.d||(et=new eg(et.d||eh.s===et.s?eh:NaN)):et=new eg(NaN),et;if(eh.s!=et.s)return et.s=-et.s,eh.minus(et);if(ef=eh.d,ep=et.d,ec=eg.precision,ed=eg.rounding,!ef[0]||!ep[0])return ep[0]||(et=new eg(eh)),e_?p(et,ec,ed):et;if(eu=eI(eh.e/eM),es=eI(et.e/eM),ef=ef.slice(),ea=eu-es){for(ea<0?(eo=ef,ea=-ea,el=ep.length):(eo=ep,es=eu,el=ef.length),ea>(el=(eu=Math.ceil(ec/eM))>el?eu+1:el+1)&&(ea=el,eo.length=1),eo.reverse();ea--;)eo.push(0);eo.reverse()}for((el=ef.length)-(ea=ep.length)<0&&(ea=el,eo=ep,ep=ef,ef=eo),ei=0;ea;)ei=(ef[--ea]=ef[ea]+ep[ea]+ei)/eV|0,ef[ea]%=eV;for(ei&&(ef.unshift(ei),++es),el=ef.length;0==ef[--el];)ef.pop();return et.d=ef,et.e=ue(ef,es),e_?p(et,ec,ed):et},eW.precision=eW.sd=function(et){var ei,eo=this;if(void 0!==et&&!!et!==et&&1!==et&&0!==et)throw Error(eO+et);return eo.d?(ei=Ie(eo.d),et&&eo.e+1>ei&&(ei=eo.e+1)):ei=NaN,ei},eW.round=function(){var et=this,ei=et.constructor;return p(new ei(et),et.e+1,ei.rounding)},eW.sine=eW.sin=function(){var et,ei,eo=this,es=eo.constructor;return eo.isFinite()?eo.isZero()?new es(eo):(et=es.precision,ei=es.rounding,es.precision=et+Math.max(eo.e,eo.sd())+eM,es.rounding=1,eo=rn(es,Be(es,eo)),es.precision=et,es.rounding=ei,p(ew>2?eo.neg():eo,et,ei,!0)):new es(NaN)},eW.squareRoot=eW.sqrt=function(){var et,ei,eo,es,ea,eu,el=this,ec=el.d,ed=el.e,ef=el.s,ep=el.constructor;if(1!==ef||!ec||!ec[0])return new ep(!ef||ef<0&&(!ec||ec[0])?NaN:ec?el:1/0);for(e_=!1,0==(ef=Math.sqrt(+el))||ef==1/0?(((ei=O(ec)).length+ed)%2==0&&(ei+="0"),ef=Math.sqrt(ei),ed=eI((ed+1)/2)-(ed<0||ed%2),ei=ef==1/0?"5e"+ed:(ei=ef.toExponential()).slice(0,ei.indexOf("e")+1)+ed,es=new ep(ei)):es=new ep(ef.toString()),eo=(ed=ep.precision)+3;;)if(es=(eu=es).plus(e$(el,eu,eo+2,1)).times(.5),O(eu.d).slice(0,eo)===(ei=O(es.d)).slice(0,eo)){if("9999"!=(ei=ei.slice(eo-3,eo+1))&&(ea||"4999"!=ei)){+ei&&(+ei.slice(1)||"5"!=ei.charAt(0))||(p(es,ed+1,1),et=!es.times(es).eq(el));break}if(!ea&&(p(eu,ed+1,0),eu.times(eu).eq(el))){es=eu;break}eo+=4,ea=1}return e_=!0,p(es,ed,ep.rounding,et)},eW.tangent=eW.tan=function(){var et,ei,eo=this,es=eo.constructor;return eo.isFinite()?eo.isZero()?new es(eo):(et=es.precision,ei=es.rounding,es.precision=et+10,es.rounding=1,(eo=eo.sin()).s=1,eo=e$(eo,new es(1).minus(eo.times(eo)).sqrt(),et+10,0),es.precision=et,es.rounding=ei,p(2==ew||4==ew?eo.neg():eo,et,ei,!0)):new es(NaN)},eW.times=eW.mul=function(et){var ei,eo,es,ea,eu,el,ec,ed,ef,ep=this,eh=ep.constructor,eg=ep.d,em=(et=new eh(et)).d;if(et.s*=ep.s,!eg||!eg[0]||!em||!em[0])return new eh(et.s&&(!eg||eg[0]||em)&&(!em||em[0]||eg)?eg&&em?0*et.s:et.s/0:NaN);for(eo=eI(ep.e/eM)+eI(et.e/eM),(ed=eg.length)<(ef=em.length)&&(eu=eg,eg=em,em=eu,el=ed,ed=ef,ef=el),eu=[],es=el=ed+ef;es--;)eu.push(0);for(es=ef;--es>=0;){for(ei=0,ea=ed+es;ea>es;)ec=eu[ea]+em[es]*eg[ea-es-1]+ei,eu[ea--]=ec%eV|0,ei=ec/eV|0;eu[ea]=(eu[ea]+ei)%eV|0}for(;!eu[--el];)eu.pop();return ei?++eo:eu.shift(),et.d=eu,et.e=ue(eu,eo),e_?p(et,eh.precision,eh.rounding):et},eW.toBinary=function(et,ei){return ke(this,2,et,ei)},eW.toDecimalPlaces=eW.toDP=function(et,ei){var eo=this,es=eo.constructor;return eo=new es(eo),void 0===et?eo:(q(et,0,eA),void 0===ei?ei=es.rounding:q(ei,0,8),p(eo,et+eo.e+1,ei))},eW.toExponential=function(et,ei){var eo,es=this,ea=es.constructor;return void 0===et?eo=I(es,!0):(q(et,0,eA),void 0===ei?ei=ea.rounding:q(ei,0,8),eo=I(es=p(new ea(es),et+1,ei),!0,et+1)),es.isNeg()&&!es.isZero()?"-"+eo:eo},eW.toFixed=function(et,ei){var eo,es,ea=this,eu=ea.constructor;return void 0===et?eo=I(ea):(q(et,0,eA),void 0===ei?ei=eu.rounding:q(ei,0,8),eo=I(es=p(new eu(ea),et+ea.e+1,ei),!1,et+es.e+1)),ea.isNeg()&&!ea.isZero()?"-"+eo:eo},eW.toFraction=function(et){var ei,eo,es,ea,eu,el,ec,ed,ef,ep,eh,eg,em=this,ey=em.d,eb=em.constructor;if(!ey)return new eb(em);if(ef=eo=new eb(1),es=ed=new eb(0),el=(eu=(ei=new eb(es)).e=Ie(ey)-em.e-1)%eM,ei.d[0]=eD(10,el<0?eM+el:el),null==et)et=eu>0?ei:ef;else{if(!(ec=new eb(et)).isInt()||ec.lt(ef))throw Error(eO+ec);et=ec.gt(ei)?eu>0?ei:ef:ec}for(e_=!1,ec=new eb(O(ey)),ep=eb.precision,eb.precision=eu=ey.length*eM*2;eh=e$(ec,ei,0,1,1),1!=(ea=eo.plus(eh.times(es))).cmp(et);)eo=es,es=ea,ea=ef,ef=ed.plus(eh.times(ea)),ed=ea,ea=ei,ei=ec.minus(eh.times(ea)),ec=ea;return ea=e$(et.minus(eo),es,0,1,1),ed=ed.plus(ea.times(ef)),eo=eo.plus(ea.times(es)),ed.s=ef.s=em.s,eg=1>e$(ef,es,eu,1).minus(em).abs().cmp(e$(ed,eo,eu,1).minus(em).abs())?[ef,es]:[ed,eo],eb.precision=ep,e_=!0,eg},eW.toHexadecimal=eW.toHex=function(et,ei){return ke(this,16,et,ei)},eW.toNearest=function(et,ei){var eo=this,es=eo.constructor;if(eo=new es(eo),null==et){if(!eo.d)return eo;et=new es(1),ei=es.rounding}else{if(et=new es(et),void 0===ei?ei=es.rounding:q(ei,0,8),!eo.d)return et.s?eo:et;if(!et.d)return et.s&&(et.s=eo.s),et}return et.d[0]?(e_=!1,eo=e$(eo,et,0,ei,1).times(et),e_=!0,p(eo)):(et.s=eo.s,eo=et),eo},eW.toNumber=function(){return+this},eW.toOctal=function(et,ei){return ke(this,8,et,ei)},eW.toPower=eW.pow=function(et){var ei,eo,es,ea,eu,el,ec=this,ed=ec.constructor,ef=+(et=new ed(et));if(!ec.d||!et.d||!ec.d[0]||!et.d[0])return new ed(eD(+ec,ef));if((ec=new ed(ec)).eq(1))return ec;if(es=ed.precision,eu=ed.rounding,et.eq(1))return p(ec,es,eu);if((ei=eI(et.e/eM))>=et.d.length-1&&(eo=ef<0?-ef:ef)<=eR)return ea=De(ed,ec,eo,es),et.s<0?new ed(1).div(ea):p(ea,es,eu);if((el=ec.s)<0){if(ei<et.d.length-1)return new ed(NaN);if(1&et.d[ei]||(el=1),0==ec.e&&1==ec.d[0]&&1==ec.d.length)return ec.s=el,ec}return(ei=0!=(eo=eD(+ec,ef))&&isFinite(eo)?new ed(eo+"").e:eI(ef*(Math.log("0."+O(ec.d))/Math.LN10+ec.e+1)))>ed.maxE+1||ei<ed.minE-1?new ed(ei>0?el/0:0):(e_=!1,ed.rounding=ec.s=1,eo=Math.min(12,(ei+"").length),(ea=Ee(et.times(B(ec,es+eo)),es)).d&&Q((ea=p(ea,es+5,1)).d,es,eu)&&(ei=es+10,+O((ea=p(Ee(et.times(B(ec,ei+eo)),ei),ei+5,1)).d).slice(es+1,es+15)+1==1e14&&(ea=p(ea,es+1,0))),ea.s=el,e_=!0,ed.rounding=eu,p(ea,es,eu))},eW.toPrecision=function(et,ei){var eo,es=this,ea=es.constructor;return void 0===et?eo=I(es,es.e<=ea.toExpNeg||es.e>=ea.toExpPos):(q(et,1,eA),void 0===ei?ei=ea.rounding:q(ei,0,8),eo=I(es=p(new ea(es),et,ei),et<=es.e||es.e<=ea.toExpNeg,et)),es.isNeg()&&!es.isZero()?"-"+eo:eo},eW.toSignificantDigits=eW.toSD=function(et,ei){var eo=this,es=eo.constructor;return void 0===et?(et=es.precision,ei=es.rounding):(q(et,1,eA),void 0===ei?ei=es.rounding:q(ei,0,8)),p(new es(eo),et,ei)},eW.toString=function(){var et=this,ei=et.constructor,eo=I(et,et.e<=ei.toExpNeg||et.e>=ei.toExpPos);return et.isNeg()&&!et.isZero()?"-"+eo:eo},eW.truncated=eW.trunc=function(){return p(new this.constructor(this),this.e+1,1)},eW.valueOf=eW.toJSON=function(){var et=this,ei=et.constructor,eo=I(et,et.e<=ei.toExpNeg||et.e>=ei.toExpPos);return et.isNeg()?"-"+eo:eo};var e$=function(){function e(et,ei,eo){var es,ea=0,eu=et.length;for(et=et.slice();eu--;)es=et[eu]*ei+ea,et[eu]=es%eo|0,ea=es/eo|0;return ea&&et.unshift(ea),et}function n(et,ei,eo,es){var ea,eu;if(eo!=es)eu=eo>es?1:-1;else for(ea=eu=0;ea<eo;ea++)if(et[ea]!=ei[ea]){eu=et[ea]>ei[ea]?1:-1;break}return eu}function i(et,ei,eo,es){for(var ea=0;eo--;)et[eo]-=ea,ea=et[eo]<ei[eo]?1:0,et[eo]=ea*es+et[eo]-ei[eo];for(;!et[0]&&et.length>1;)et.shift()}return function(et,ei,eo,es,ea,eu){var el,ec,ed,ef,ep,eh,eg,em,ey,eb,ew,eS,eA,ex,eE,ek,eC,e_,ej,eO,eT=et.constructor,eN=et.s==ei.s?1:-1,eF=et.d,eD=ei.d;if(!eF||!eF[0]||!eD||!eD[0])return new eT(et.s&&ei.s&&(eF?!eD||eF[0]!=eD[0]:eD)?eF&&0==eF[0]||!eD?0*eN:eN/0:NaN);for(eu?(ep=1,ec=et.e-ei.e):(eu=eV,ep=eM,ec=eI(et.e/ep)-eI(ei.e/ep)),ej=eD.length,eC=eF.length,eb=(ey=new eT(eN)).d=[],ed=0;eD[ed]==(eF[ed]||0);ed++);if(eD[ed]>(eF[ed]||0)&&ec--,null==eo?(ex=eo=eT.precision,es=eT.rounding):ex=ea?eo+(et.e-ei.e)+1:eo,ex<0)eb.push(1),eh=!0;else{if(ex=ex/ep+2|0,ed=0,1==ej){for(ef=0,eD=eD[0],ex++;(ed<eC||ef)&&ex--;ed++)eE=ef*eu+(eF[ed]||0),eb[ed]=eE/eD|0,ef=eE%eD|0;eh=ef||ed<eC}else{for((ef=eu/(eD[0]+1)|0)>1&&(eD=e(eD,ef,eu),eF=e(eF,ef,eu),ej=eD.length,eC=eF.length),ek=ej,eS=(ew=eF.slice(0,ej)).length;eS<ej;)ew[eS++]=0;(eO=eD.slice()).unshift(0),e_=eD[0],eD[1]>=eu/2&&++e_;do ef=0,(el=n(eD,ew,ej,eS))<0?(eA=ew[0],ej!=eS&&(eA=eA*eu+(ew[1]||0)),(ef=eA/e_|0)>1?(ef>=eu&&(ef=eu-1),em=(eg=e(eD,ef,eu)).length,eS=ew.length,1==(el=n(eg,ew,em,eS))&&(ef--,i(eg,ej<em?eO:eD,em,eu))):(0==ef&&(el=ef=1),eg=eD.slice()),(em=eg.length)<eS&&eg.unshift(0),i(ew,eg,eS,eu),-1==el&&(eS=ew.length,(el=n(eD,ew,ej,eS))<1&&(ef++,i(ew,ej<eS?eO:eD,eS,eu))),eS=ew.length):0===el&&(ef++,ew=[0]),eb[ed++]=ef,el&&ew[0]?ew[eS++]=eF[ek]||0:(ew=[eF[ek]],eS=1);while((ek++<eC||void 0!==ew[0])&&ex--);eh=void 0!==ew[0]}eb[0]||eb.shift()}if(1==ep)ey.e=ec,ev=eh;else{for(ed=1,ef=eb[0];ef>=10;ef/=10)ed++;ey.e=ed+ec*ep-1,p(ey,ea?eo+ey.e+1:eo,es,eh)}return ey}}();function p(et,ei,eo,es){var ea,eu,el,ec,ed,ef,ep,eh,eg,em=et.constructor;e:if(null!=ei){if(!(eh=et.d))return et;for(ea=1,ec=eh[0];ec>=10;ec/=10)ea++;if((eu=ei-ea)<0)eu+=eM,el=ei,ed=(ep=eh[eg=0])/eD(10,ea-el-1)%10|0;else if((eg=Math.ceil((eu+1)/eM))>=(ec=eh.length)){if(es){for(;ec++<=eg;)eh.push(0);ep=ed=0,ea=1,eu%=eM,el=eu-eM+1}else break e}else{for(ep=ec=eh[eg],ea=1;ec>=10;ec/=10)ea++;eu%=eM,ed=(el=eu-eM+ea)<0?0:ep/eD(10,ea-el-1)%10|0}if(es=es||ei<0||void 0!==eh[eg+1]||(el<0?ep:ep%eD(10,ea-el-1)),ef=eo<4?(ed||es)&&(0==eo||eo==(et.s<0?3:2)):ed>5||5==ed&&(4==eo||es||6==eo&&(eu>0?el>0?ep/eD(10,ea-el):0:eh[eg-1])%10&1||eo==(et.s<0?8:7)),ei<1||!eh[0])return eh.length=0,ef?(ei-=et.e+1,eh[0]=eD(10,(eM-ei%eM)%eM),et.e=-ei||0):eh[0]=et.e=0,et;if(0==eu?(eh.length=eg,ec=1,eg--):(eh.length=eg+1,ec=eD(10,eM-eu),eh[eg]=el>0?(ep/eD(10,ea-el)%eD(10,el)|0)*ec:0),ef)for(;;)if(0==eg){for(eu=1,el=eh[0];el>=10;el/=10)eu++;for(el=eh[0]+=ec,ec=1;el>=10;el/=10)ec++;eu!=ec&&(et.e++,eh[0]==eV&&(eh[0]=1));break}else{if(eh[eg]+=ec,eh[eg]!=eV)break;eh[eg--]=0,ec=1}for(eu=eh.length;0===eh[--eu];)eh.pop()}return e_&&(et.e>em.maxE?(et.d=null,et.e=NaN):et.e<em.minE&&(et.e=0,et.d=[0])),et}function I(et,ei,eo){if(!et.isFinite())return Ue(et);var es,ea=et.e,eu=O(et.d),el=eu.length;return ei?(eo&&(es=eo-el)>0?eu=eu.charAt(0)+"."+eu.slice(1)+U(es):el>1&&(eu=eu.charAt(0)+"."+eu.slice(1)),eu=eu+(et.e<0?"e":"e+")+et.e):ea<0?(eu="0."+U(-ea-1)+eu,eo&&(es=eo-el)>0&&(eu+=U(es))):ea>=el?(eu+=U(ea+1-el),eo&&(es=eo-ea-1)>0&&(eu=eu+"."+U(es))):((es=ea+1)<el&&(eu=eu.slice(0,es)+"."+eu.slice(es)),eo&&(es=eo-el)>0&&(ea+1===el&&(eu+="."),eu+=U(es))),eu}function ue(et,ei){var eo=et[0];for(ei*=eM;eo>=10;eo/=10)ei++;return ei}function se(et,ei,eo){if(ei>eL)throw e_=!0,eo&&(et.precision=eo),Error(eT);return p(new et(eE),ei,1,!0)}function R(et,ei,eo){if(ei>eq)throw Error(eT);return p(new et(ek),ei,eo,!0)}function Ie(et){var ei=et.length-1,eo=ei*eM+1;if(ei=et[ei]){for(;ei%10==0;ei/=10)eo--;for(ei=et[0];ei>=10;ei/=10)eo++}return eo}function U(et){for(var ei="";et--;)ei+="0";return ei}function De(et,ei,eo,es){var ea,eu=new et(1),el=Math.ceil(es/eM+4);for(e_=!1;;){if(eo%2&&Ae((eu=eu.times(ei)).d,el)&&(ea=!0),0===(eo=eI(eo/2))){eo=eu.d.length-1,ea&&0===eu.d[eo]&&++eu.d[eo];break}Ae((ei=ei.times(ei)).d,el)}return e_=!0,eu}function be(et){return 1&et.d[et.d.length-1]}function Ze(et,ei,eo){for(var es,ea=new et(ei[0]),eu=0;++eu<ei.length;)if((es=new et(ei[eu])).s)ea[eo](es)&&(ea=es);else{ea=es;break}return ea}function Ee(et,ei){var eo,es,ea,eu,el,ec,ed,ef=0,ep=0,eh=0,eg=et.constructor,em=eg.rounding,ey=eg.precision;if(!et.d||!et.d[0]||et.e>17)return new eg(et.d?et.d[0]?et.s<0?0:1/0:1:et.s?et.s<0?0:et:NaN);for(null==ei?(e_=!1,ed=ey):ed=ei,ec=new eg(.03125);et.e>-2;)et=et.times(ec),eh+=5;for(ed+=es=Math.log(eD(2,eh))/Math.LN10*2+5|0,eo=eu=el=new eg(1),eg.precision=ed;;){if(eu=p(eu.times(et),ed,1),eo=eo.times(++ep),O((ec=el.plus(e$(eu,eo,ed,1))).d).slice(0,ed)===O(el.d).slice(0,ed)){for(ea=eh;ea--;)el=p(el.times(el),ed,1);if(null!=ei)return eg.precision=ey,el;if(!(ef<3&&Q(el.d,ed-es,em,ef)))return p(el,eg.precision=ey,em,e_=!0);eg.precision=ed+=10,eo=eu=ec=new eg(1),ep=0,ef++}el=ec}}function B(et,ei){var eo,es,ea,eu,el,ec,ed,ef,ep,eh,eg,em=1,ey=10,eb=et,ev=eb.d,ew=eb.constructor,eS=ew.rounding,eA=ew.precision;if(eb.s<0||!ev||!ev[0]||!eb.e&&1==ev[0]&&1==ev.length)return new ew(ev&&!ev[0]?-1/0:1!=eb.s?NaN:ev?0:eb);if(null==ei?(e_=!1,ep=eA):ep=ei,ew.precision=ep+=ey,es=(eo=O(ev)).charAt(0),!(15e14>Math.abs(eu=eb.e)))return ef=se(ew,ep+2,eA).times(eu+""),eb=B(new ew(es+"."+eo.slice(1)),ep-ey).plus(ef),ew.precision=eA,null==ei?p(eb,eA,eS,e_=!0):eb;for(;es<7&&1!=es||1==es&&eo.charAt(1)>3;)es=(eo=O((eb=eb.times(et)).d)).charAt(0),em++;for(eu=eb.e,es>1?(eb=new ew("0."+eo),eu++):eb=new ew(es+"."+eo.slice(1)),eh=eb,ed=el=eb=e$(eb.minus(1),eb.plus(1),ep,1),eg=p(eb.times(eb),ep,1),ea=3;;){if(el=p(el.times(eg),ep,1),O((ef=ed.plus(e$(el,new ew(ea),ep,1))).d).slice(0,ep)===O(ed.d).slice(0,ep)){if(ed=ed.times(2),0!==eu&&(ed=ed.plus(se(ew,ep+2,eA).times(eu+""))),ed=e$(ed,new ew(em),ep,1),null!=ei)return ew.precision=eA,ed;if(!Q(ed.d,ep-ey,eS,ec))return p(ed,ew.precision=eA,eS,e_=!0);ew.precision=ep+=ey,ef=el=eb=e$(eh.minus(1),eh.plus(1),ep,1),eg=p(eb.times(eb),ep,1),ea=ec=1}ed=ef,ea+=2}}function Ue(et){return String(et.s*et.s/0)}function Se(et,ei){var eo,es,ea;for((eo=ei.indexOf("."))>-1&&(ei=ei.replace(".","")),(es=ei.search(/e/i))>0?(eo<0&&(eo=es),eo+=+ei.slice(es+1),ei=ei.substring(0,es)):eo<0&&(eo=ei.length),es=0;48===ei.charCodeAt(es);es++);for(ea=ei.length;48===ei.charCodeAt(ea-1);--ea);if(ei=ei.slice(es,ea)){if(ea-=es,et.e=eo=eo-es-1,et.d=[],es=(eo+1)%eM,eo<0&&(es+=eM),es<ea){for(es&&et.d.push(+ei.slice(0,es)),ea-=eM;es<ea;)et.d.push(+ei.slice(es,es+=eM));es=eM-(ei=ei.slice(es)).length}else es-=ea;for(;es--;)ei+="0";et.d.push(+ei),e_&&(et.e>et.constructor.maxE?(et.d=null,et.e=NaN):et.e<et.constructor.minE&&(et.e=0,et.d=[0]))}else et.e=0,et.d=[0];return et}function nn(et,ei){var eo,es,ea,eu,el,ec,ed,ef,ep;if(ei.indexOf("_")>-1){if(ei=ei.replace(/(\d)_(?=\d)/g,"$1"),eB.test(ei))return Se(et,ei)}else if("Infinity"===ei||"NaN"===ei)return+ei||(et.s=NaN),et.e=NaN,et.d=null,et;if(ez.test(ei))eo=16,ei=ei.toLowerCase();else if(eP.test(ei))eo=2;else if(eU.test(ei))eo=8;else throw Error(eO+ei);for((eu=ei.search(/p/i))>0?(ed=+ei.slice(eu+1),ei=ei.substring(2,eu)):ei=ei.slice(2),el=(eu=ei.indexOf("."))>=0,es=et.constructor,el&&(eu=(ec=(ei=ei.replace(".","")).length)-eu,ea=De(es,new es(eo),eu,2*eu)),eu=ep=(ef=ie(ei,eo,eV)).length-1;0===ef[eu];--eu)ef.pop();return eu<0?new es(0*et.s):(et.e=ue(ef,ep),et.d=ef,e_=!1,el&&(et=e$(et,ea,4*ec)),ed&&(et=et.times(54>Math.abs(ed)?eD(2,ed):eH.pow(2,ed))),e_=!0,et)}function rn(et,ei){var eo,es=ei.d.length;if(es<3)return ei.isZero()?ei:J(et,2,ei,ei);eo=(eo=1.4*Math.sqrt(es))>16?16:0|eo,ei=J(et,2,ei=ei.times(1/fe(5,eo)),ei);for(var ea,eu=new et(5),el=new et(16),ec=new et(20);eo--;)ea=ei.times(ei),ei=ei.times(eu.plus(ea.times(el.times(ea).minus(ec))));return ei}function J(et,ei,eo,es,ea){var eu,el,ec,ed,ef=et.precision,ep=Math.ceil(ef/eM);for(e_=!1,ed=eo.times(eo),ec=new et(es);;){if(el=e$(ec.times(ed),new et(ei++*ei++),ef,1),ec=ea?es.plus(el):es.minus(el),es=e$(el.times(ed),new et(ei++*ei++),ef,1),void 0!==(el=ec.plus(es)).d[ep]){for(eu=ep;el.d[eu]===ec.d[eu]&&eu--;);if(-1==eu)break}eu=ec,ec=es,es=el,el=eu}return e_=!0,el.d.length=ep+1,el}function fe(et,ei){for(var eo=et;--ei;)eo*=et;return eo}function Be(et,ei){var eo,es=ei.s<0,ea=R(et,et.precision,1),eu=ea.times(.5);if((ei=ei.abs()).lte(eu))return ew=es?4:1,ei;if((eo=ei.divToInt(ea)).isZero())ew=es?3:2;else{if((ei=ei.minus(eo.times(ea))).lte(eu))return ew=be(eo)?es?2:3:es?4:1,ei;ew=be(eo)?es?1:4:es?3:2}return ei.minus(ea).abs()}function ke(et,ei,eo,es){var ea,eu,el,ec,ed,ef,ep,eh,eg,em=et.constructor,ey=void 0!==eo;if(ey?(q(eo,1,eA),void 0===es?es=em.rounding:q(es,0,8)):(eo=em.precision,es=em.rounding),et.isFinite()){for(el=(ep=I(et)).indexOf("."),ey?(ea=2,16==ei?eo=4*eo-3:8==ei&&(eo=3*eo-2)):ea=ei,el>=0&&(ep=ep.replace(".",""),(eg=new em(1)).e=ep.length-el,eg.d=ie(I(eg),10,ea),eg.e=eg.d.length),eu=ed=(eh=ie(ep,10,ea)).length;0==eh[--ed];)eh.pop();if(eh[0]){if(el<0?eu--:((et=new em(et)).d=eh,et.e=eu,eh=(et=e$(et,eg,eo,es,0,ea)).d,eu=et.e,ef=ev),el=eh[eo],ec=ea/2,ef=ef||void 0!==eh[eo+1],ef=es<4?(void 0!==el||ef)&&(0===es||es===(et.s<0?3:2)):el>ec||el===ec&&(4===es||ef||6===es&&1&eh[eo-1]||es===(et.s<0?8:7)),eh.length=eo,ef)for(;++eh[--eo]>ea-1;)eh[eo]=0,eo||(++eu,eh.unshift(1));for(ed=eh.length;!eh[ed-1];--ed);for(el=0,ep="";el<ed;el++)ep+=ex.charAt(eh[el]);if(ey){if(ed>1){if(16==ei||8==ei){for(el=16==ei?4:3,--ed;ed%el;ed++)ep+="0";for(ed=(eh=ie(ep,ea,ei)).length;!eh[ed-1];--ed);for(el=1,ep="1.";el<ed;el++)ep+=ex.charAt(eh[el])}else ep=ep.charAt(0)+"."+ep.slice(1)}ep=ep+(eu<0?"p":"p+")+eu}else if(eu<0){for(;++eu;)ep="0"+ep;ep="0."+ep}else if(++eu>ed)for(eu-=ed;eu--;)ep+="0";else eu<ed&&(ep=ep.slice(0,eu)+"."+ep.slice(eu))}else ep=ey?"0p+0":"0";ep=(16==ei?"0x":2==ei?"0b":8==ei?"0o":"")+ep}else ep=Ue(et);return et.s<0?"-"+ep:ep}function Ae(et,ei){if(et.length>ei)return et.length=ei,!0}function tn(et){return new this(et).abs()}function sn(et){return new this(et).acos()}function on(et){return new this(et).acosh()}function un(et,ei){return new this(et).plus(ei)}function fn(et){return new this(et).asin()}function ln(et){return new this(et).asinh()}function cn(et){return new this(et).atan()}function an(et){return new this(et).atanh()}function hn(et,ei){et=new this(et),ei=new this(ei);var eo,es=this.precision,ea=this.rounding,eu=es+4;return et.s&&ei.s?et.d||ei.d?!ei.d||et.isZero()?(eo=ei.s<0?R(this,es,ea):new this(0)).s=et.s:!et.d||ei.isZero()?(eo=R(this,eu,1).times(.5)).s=et.s:ei.s<0?(this.precision=eu,this.rounding=1,eo=this.atan(e$(et,ei,eu,1)),ei=R(this,eu,1),this.precision=es,this.rounding=ea,eo=et.s<0?eo.minus(ei):eo.plus(ei)):eo=this.atan(e$(et,ei,eu,1)):(eo=R(this,eu,1).times(ei.s>0?.25:.75)).s=et.s:eo=new this(NaN),eo}function dn(et){return new this(et).cbrt()}function pn(et){return p(et=new this(et),et.e+1,2)}function gn(et,ei,eo){return new this(et).clamp(ei,eo)}function mn(et){if(!et||"object"!=typeof et)throw Error(ej+"Object expected");var ei,eo,es,ea=!0===et.defaults,eu=["precision",1,eA,"rounding",0,8,"toExpNeg",-eS,0,"toExpPos",0,eS,"maxE",0,eS,"minE",-eS,0,"modulo",0,9];for(ei=0;ei<eu.length;ei+=3)if(eo=eu[ei],ea&&(this[eo]=eC[eo]),void 0!==(es=et[eo])){if(eI(es)===es&&es>=eu[ei+1]&&es<=eu[ei+2])this[eo]=es;else throw Error(eO+eo+": "+es)}if(eo="crypto",ea&&(this[eo]=eC[eo]),void 0!==(es=et[eo])){if(!0===es||!1===es||0===es||1===es){if(es){if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[eo]=!0;else throw Error(eN)}else this[eo]=!1}else throw Error(eO+eo+": "+es)}return this}function wn(et){return new this(et).cos()}function Nn(et){return new this(et).cosh()}function $e(et){var ei,eo,es;function t(et){var ei,eo,es,ea=this;if(!(ea instanceof t))return new t(et);if(ea.constructor=t,_e(et)){ea.s=et.s,e_?!et.d||et.e>t.maxE?(ea.e=NaN,ea.d=null):et.e<t.minE?(ea.e=0,ea.d=[0]):(ea.e=et.e,ea.d=et.d.slice()):(ea.e=et.e,ea.d=et.d?et.d.slice():et.d);return}if("number"==(es=typeof et)){if(0===et){ea.s=1/et<0?-1:1,ea.e=0,ea.d=[0];return}if(et<0?(et=-et,ea.s=-1):ea.s=1,et===~~et&&et<1e7){for(ei=0,eo=et;eo>=10;eo/=10)ei++;e_?ei>t.maxE?(ea.e=NaN,ea.d=null):ei<t.minE?(ea.e=0,ea.d=[0]):(ea.e=ei,ea.d=[et]):(ea.e=ei,ea.d=[et]);return}if(0*et!=0){et||(ea.s=NaN),ea.e=NaN,ea.d=null;return}return Se(ea,et.toString())}if("string"!==es)throw Error(eO+et);return 45===(eo=et.charCodeAt(0))?(et=et.slice(1),ea.s=-1):(43===eo&&(et=et.slice(1)),ea.s=1),eB.test(et)?Se(ea,et):nn(ea,et)}if(t.prototype=eW,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=mn,t.clone=$e,t.isDecimal=_e,t.abs=tn,t.acos=sn,t.acosh=on,t.add=un,t.asin=fn,t.asinh=ln,t.atan=cn,t.atanh=an,t.atan2=hn,t.cbrt=dn,t.ceil=pn,t.clamp=gn,t.cos=wn,t.cosh=Nn,t.div=vn,t.exp=En,t.floor=Sn,t.hypot=kn,t.ln=Cn,t.log=Mn,t.log10=Pn,t.log2=On,t.max=bn,t.min=An,t.mod=_n,t.mul=qn,t.pow=Tn,t.random=Ln,t.round=Rn,t.sign=Fn,t.sin=In,t.sinh=Dn,t.sqrt=Zn,t.sub=Un,t.sum=Bn,t.tan=$n,t.tanh=Vn,t.trunc=Hn,void 0===et&&(et={}),et&&!0!==et.defaults)for(es=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],ei=0;ei<es.length;)et.hasOwnProperty(eo=es[ei++])||(et[eo]=this[eo]);return t.config(et),t}function vn(et,ei){return new this(et).div(ei)}function En(et){return new this(et).exp()}function Sn(et){return p(et=new this(et),et.e+1,3)}function kn(){var et,ei,eo=new this(0);for(e_=!1,et=0;et<arguments.length;)if(ei=new this(arguments[et++]),ei.d)eo.d&&(eo=eo.plus(ei.times(ei)));else{if(ei.s)return e_=!0,new this(1/0);eo=ei}return e_=!0,eo.sqrt()}function _e(et){return et instanceof eH||et&&et.toStringTag===eF||!1}function Cn(et){return new this(et).ln()}function Mn(et,ei){return new this(et).log(ei)}function On(et){return new this(et).log(2)}function Pn(et){return new this(et).log(10)}function bn(){return Ze(this,arguments,"lt")}function An(){return Ze(this,arguments,"gt")}function _n(et,ei){return new this(et).mod(ei)}function qn(et,ei){return new this(et).mul(ei)}function Tn(et,ei){return new this(et).pow(ei)}function Ln(et){var ei,eo,es,ea,eu=0,el=new this(1),ec=[];if(void 0===et?et=this.precision:q(et,1,eA),es=Math.ceil(et/eM),this.crypto){if(crypto.getRandomValues)for(ei=crypto.getRandomValues(new Uint32Array(es));eu<es;)(ea=ei[eu])>=429e7?ei[eu]=crypto.getRandomValues(new Uint32Array(1))[0]:ec[eu++]=ea%1e7;else if(crypto.randomBytes){for(ei=crypto.randomBytes(es*=4);eu<es;)(ea=ei[eu]+(ei[eu+1]<<8)+(ei[eu+2]<<16)+((127&ei[eu+3])<<24))>=214e7?crypto.randomBytes(4).copy(ei,eu):(ec.push(ea%1e7),eu+=4);eu=es/4}else throw Error(eN)}else for(;eu<es;)ec[eu++]=1e7*Math.random()|0;for(es=ec[--eu],et%=eM,es&&et&&(ea=eD(10,eM-et),ec[eu]=(es/ea|0)*ea);0===ec[eu];eu--)ec.pop();if(eu<0)eo=0,ec=[0];else{for(eo=-1;0===ec[0];eo-=eM)ec.shift();for(es=1,ea=ec[0];ea>=10;ea/=10)es++;es<eM&&(eo-=eM-es)}return el.e=eo,el.d=ec,el}function Rn(et){return p(et=new this(et),et.e+1,this.rounding)}function Fn(et){return(et=new this(et)).d?et.d[0]?et.s:0*et.s:et.s||NaN}function In(et){return new this(et).sin()}function Dn(et){return new this(et).sinh()}function Zn(et){return new this(et).sqrt()}function Un(et,ei){return new this(et).sub(ei)}function Bn(){var et=0,ei=arguments,eo=new this(ei[et]);for(e_=!1;eo.s&&++et<ei.length;)eo=eo.plus(ei[et]);return e_=!0,p(eo,this.precision,this.rounding)}function $n(et){return new this(et).tan()}function Vn(et){return new this(et).tanh()}function Hn(et){return p(et=new this(et),et.e+1,1)}eW[Symbol.for("nodejs.util.inspect.custom")]=eW.toString,eW[Symbol.toStringTag]="Decimal";var eH=eW.constructor=$e(eC);eE=new eH(eE),ek=new eH(ek);var eZ=eH,eG="Cloudflare-Workers",eJ="node";function He(){var et,ei,eo;return"object"==typeof Netlify?"netlify":"string"==typeof EdgeRuntime?"edge-light":(null==(et=globalThis.navigator)?void 0:et.userAgent)===eG?"workerd":globalThis.Deno?"deno":globalThis.__lagon__?"lagon":(null==(eo=null==(ei=globalThis.process)?void 0:ei.release)?void 0:eo.name)===eJ?"node":globalThis.Bun?"bun":globalThis.fastly?"fastly":"unknown"}/*! Bundled license information:

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/},98135:function(et,ei,eo){var es=eo(9767),ea=eo(23325),eu=eo(36377),el=0,ec=4,ed=36,ef=1679616;function randomBlock(){return ea((eu()*ef<<0).toString(ed),ec)}function safeCounter(){return el=el<ef?el:0,++el-1}function cuid(){return"c"+new Date().getTime().toString(ed)+ea(safeCounter().toString(ed),ec)+es()+(randomBlock()+randomBlock())}cuid.slug=function(){var et=new Date().getTime().toString(36),ei=safeCounter().toString(36).slice(-4),eo=es().slice(0,1)+es().slice(-1),ea=randomBlock().slice(-2);return et.slice(-2)+ei+eo+ea},cuid.isCuid=function(et){return"string"==typeof et&&!!et.startsWith("c")},cuid.isSlug=function(et){if("string"!=typeof et)return!1;var ei=et.length;return ei>=7&&ei<=10},cuid.fingerprint=es,et.exports=cuid},9767:function(et,ei,eo){var es=eo(23325),ea=Object.keys("object"==typeof window?window:self).length,eu=es(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+ea.toString(36),4);et.exports=function(){return eu}},36377:function(et){var ei,eo="undefined"!=typeof window&&(window.crypto||window.msCrypto)||"undefined"!=typeof self&&self.crypto;if(eo){var es=4294967295;ei=function(){return Math.abs(eo.getRandomValues(new Uint32Array(1))[0]/es)}}else ei=Math.random;et.exports=ei},23325:function(et){et.exports=function(et,ei){var eo="000000000"+et;return eo.substr(eo.length-ei)}},47477:function(et){function Emitter(et){if(et)return mixin(et)}function mixin(et){for(var ei in Emitter.prototype)et[ei]=Emitter.prototype[ei];return et}et.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(et,ei){return this._callbacks=this._callbacks||{},(this._callbacks[et]=this._callbacks[et]||[]).push(ei),this},Emitter.prototype.once=function(et,ei){var eo=this;function on(){eo.off(et,on),ei.apply(this,arguments)}return this._callbacks=this._callbacks||{},on.fn=ei,this.on(et,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(et,ei){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var eo,es=this._callbacks[et];if(!es)return this;if(1==arguments.length)return delete this._callbacks[et],this;for(var ea=0;ea<es.length;ea++)if((eo=es[ea])===ei||eo.fn===ei){es.splice(ea,1);break}return this},Emitter.prototype.emit=function(et){this._callbacks=this._callbacks||{};var ei=[].slice.call(arguments,1),eo=this._callbacks[et];if(eo){eo=eo.slice(0);for(var es=0,ea=eo.length;es<ea;++es)eo[es].apply(this,ei)}return this},Emitter.prototype.listeners=function(et){return this._callbacks=this._callbacks||{},this._callbacks[et]||[]},Emitter.prototype.hasListeners=function(et){return!!this.listeners(et).length}},47324:function(et){"use strict";var ei,eo="object"==typeof Reflect?Reflect:null,es=eo&&"function"==typeof eo.apply?eo.apply:function(et,ei,eo){return Function.prototype.apply.call(et,ei,eo)};function ProcessEmitWarning(et){console&&console.warn&&console.warn(et)}ei=eo&&"function"==typeof eo.ownKeys?eo.ownKeys:Object.getOwnPropertySymbols?function(et){return Object.getOwnPropertyNames(et).concat(Object.getOwnPropertySymbols(et))}:function(et){return Object.getOwnPropertyNames(et)};var ea=Number.isNaN||function(et){return et!=et};function EventEmitter(){EventEmitter.init.call(this)}et.exports=EventEmitter,et.exports.once=once,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var eu=10;function checkListener(et){if("function"!=typeof et)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof et)}function _getMaxListeners(et){return void 0===et._maxListeners?EventEmitter.defaultMaxListeners:et._maxListeners}function _addListener(et,ei,eo,es){if(checkListener(eo),void 0===(eu=et._events)?(eu=et._events=Object.create(null),et._eventsCount=0):(void 0!==eu.newListener&&(et.emit("newListener",ei,eo.listener?eo.listener:eo),eu=et._events),el=eu[ei]),void 0===el)el=eu[ei]=eo,++et._eventsCount;else if("function"==typeof el?el=eu[ei]=es?[eo,el]:[el,eo]:es?el.unshift(eo):el.push(eo),(ea=_getMaxListeners(et))>0&&el.length>ea&&!el.warned){el.warned=!0;var ea,eu,el,ec=Error("Possible EventEmitter memory leak detected. "+el.length+" "+String(ei)+" listeners added. Use emitter.setMaxListeners() to increase limit");ec.name="MaxListenersExceededWarning",ec.emitter=et,ec.type=ei,ec.count=el.length,ProcessEmitWarning(ec)}return et}function onceWrapper(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(et,ei,eo){var es={fired:!1,wrapFn:void 0,target:et,type:ei,listener:eo},ea=onceWrapper.bind(es);return ea.listener=eo,es.wrapFn=ea,ea}function _listeners(et,ei,eo){var es=et._events;if(void 0===es)return[];var ea=es[ei];return void 0===ea?[]:"function"==typeof ea?eo?[ea.listener||ea]:[ea]:eo?unwrapListeners(ea):arrayClone(ea,ea.length)}function listenerCount(et){var ei=this._events;if(void 0!==ei){var eo=ei[et];if("function"==typeof eo)return 1;if(void 0!==eo)return eo.length}return 0}function arrayClone(et,ei){for(var eo=Array(ei),es=0;es<ei;++es)eo[es]=et[es];return eo}function spliceOne(et,ei){for(;ei+1<et.length;ei++)et[ei]=et[ei+1];et.pop()}function unwrapListeners(et){for(var ei=Array(et.length),eo=0;eo<ei.length;++eo)ei[eo]=et[eo].listener||et[eo];return ei}function once(et,ei){return new Promise(function(eo,es){function errorListener(eo){et.removeListener(ei,resolver),es(eo)}function resolver(){"function"==typeof et.removeListener&&et.removeListener("error",errorListener),eo([].slice.call(arguments))}eventTargetAgnosticAddListener(et,ei,resolver,{once:!0}),"error"!==ei&&addErrorHandlerIfEventEmitter(et,errorListener,{once:!0})})}function addErrorHandlerIfEventEmitter(et,ei,eo){"function"==typeof et.on&&eventTargetAgnosticAddListener(et,"error",ei,eo)}function eventTargetAgnosticAddListener(et,ei,eo,es){if("function"==typeof et.on)es.once?et.once(ei,eo):et.on(ei,eo);else if("function"==typeof et.addEventListener)et.addEventListener(ei,function wrapListener(ea){es.once&&et.removeEventListener(ei,wrapListener),eo(ea)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof et)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return eu},set:function(et){if("number"!=typeof et||et<0||ea(et))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+et+".");eu=et}}),EventEmitter.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(et){if("number"!=typeof et||et<0||ea(et))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+et+".");return this._maxListeners=et,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(et){for(var ei=[],eo=1;eo<arguments.length;eo++)ei.push(arguments[eo]);var ea="error"===et,eu=this._events;if(void 0!==eu)ea=ea&&void 0===eu.error;else if(!ea)return!1;if(ea){if(ei.length>0&&(el=ei[0]),el instanceof Error)throw el;var el,ec=Error("Unhandled error."+(el?" ("+el.message+")":""));throw ec.context=el,ec}var ed=eu[et];if(void 0===ed)return!1;if("function"==typeof ed)es(ed,this,ei);else for(var ef=ed.length,ep=arrayClone(ed,ef),eo=0;eo<ef;++eo)es(ep[eo],this,ei);return!0},EventEmitter.prototype.addListener=function(et,ei){return _addListener(this,et,ei,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(et,ei){return _addListener(this,et,ei,!0)},EventEmitter.prototype.once=function(et,ei){return checkListener(ei),this.on(et,_onceWrap(this,et,ei)),this},EventEmitter.prototype.prependOnceListener=function(et,ei){return checkListener(ei),this.prependListener(et,_onceWrap(this,et,ei)),this},EventEmitter.prototype.removeListener=function(et,ei){var eo,es,ea,eu,el;if(checkListener(ei),void 0===(es=this._events)||void 0===(eo=es[et]))return this;if(eo===ei||eo.listener===ei)0==--this._eventsCount?this._events=Object.create(null):(delete es[et],es.removeListener&&this.emit("removeListener",et,eo.listener||ei));else if("function"!=typeof eo){for(ea=-1,eu=eo.length-1;eu>=0;eu--)if(eo[eu]===ei||eo[eu].listener===ei){el=eo[eu].listener,ea=eu;break}if(ea<0)return this;0===ea?eo.shift():spliceOne(eo,ea),1===eo.length&&(es[et]=eo[0]),void 0!==es.removeListener&&this.emit("removeListener",et,el||ei)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(et){var ei,eo,es;if(void 0===(eo=this._events))return this;if(void 0===eo.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==eo[et]&&(0==--this._eventsCount?this._events=Object.create(null):delete eo[et]),this;if(0==arguments.length){var ea,eu=Object.keys(eo);for(es=0;es<eu.length;++es)"removeListener"!==(ea=eu[es])&&this.removeAllListeners(ea);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ei=eo[et]))this.removeListener(et,ei);else if(void 0!==ei)for(es=ei.length-1;es>=0;es--)this.removeListener(et,ei[es]);return this},EventEmitter.prototype.listeners=function(et){return _listeners(this,et,!0)},EventEmitter.prototype.rawListeners=function(et){return _listeners(this,et,!1)},EventEmitter.listenerCount=function(et,ei){return"function"==typeof et.listenerCount?et.listenerCount(ei):listenerCount.call(et,ei)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ei(this._events):[]}},98:function(et,ei,eo){"use strict";var es=eo(49861),ea=Object.prototype.toString,eu=Object.prototype.hasOwnProperty,forEachArray=function(et,ei,eo){for(var es=0,ea=et.length;es<ea;es++)eu.call(et,es)&&(null==eo?ei(et[es],es,et):ei.call(eo,et[es],es,et))},forEachString=function(et,ei,eo){for(var es=0,ea=et.length;es<ea;es++)null==eo?ei(et.charAt(es),es,et):ei.call(eo,et.charAt(es),es,et)},forEachObject=function(et,ei,eo){for(var es in et)eu.call(et,es)&&(null==eo?ei(et[es],es,et):ei.call(eo,et[es],es,et))},forEach=function(et,ei,eo){var eu;if(!es(ei))throw TypeError("iterator must be a function");arguments.length>=3&&(eu=eo),"[object Array]"===ea.call(et)?forEachArray(et,ei,eu):"string"==typeof et?forEachString(et,ei,eu):forEachObject(et,ei,eu)};et.exports=forEach},73342:function(et,ei,eo){"use strict";var es=eo(69578);et.exports=function(){return es()&&!!Symbol.toStringTag}},67483:function(et){"function"==typeof Object.create?et.exports=function(et,ei){ei&&(et.super_=ei,et.prototype=Object.create(ei.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}))}:et.exports=function(et,ei){if(ei){et.super_=ei;var TempCtor=function(){};TempCtor.prototype=ei.prototype,et.prototype=new TempCtor,et.prototype.constructor=et}}},59462:function(et,ei,eo){"use strict";var es=eo(73342)(),ea=eo(67639)("Object.prototype.toString"),isStandardArguments=function(et){return(!es||!et||"object"!=typeof et||!(Symbol.toStringTag in et))&&"[object Arguments]"===ea(et)},isLegacyArguments=function(et){return!!isStandardArguments(et)||null!==et&&"object"==typeof et&&"number"==typeof et.length&&et.length>=0&&"[object Array]"!==ea(et)&&"[object Function]"===ea(et.callee)},eu=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments,et.exports=eu?isStandardArguments:isLegacyArguments},49861:function(et){"use strict";var ei,eo,es=Function.prototype.toString,ea="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof ea&&"function"==typeof Object.defineProperty)try{ei=Object.defineProperty({},"length",{get:function(){throw eo}}),eo={},ea(function(){throw 42},null,ei)}catch(et){et!==eo&&(ea=null)}else ea=null;var eu=/^\s*class\b/,isES6ClassFn=function(et){try{var ei=es.call(et);return eu.test(ei)}catch(et){return!1}},tryFunctionObject=function(et){try{if(isES6ClassFn(et))return!1;return es.call(et),!0}catch(et){return!1}},el=Object.prototype.toString,ec="[object Object]",ed="[object Function]",ef="[object GeneratorFunction]",ep="[object HTMLAllCollection]",eh="[object HTML document.all class]",eg="[object HTMLCollection]",em="function"==typeof Symbol&&!!Symbol.toStringTag,ey=!(0 in[,]),isDDA=function(){return!1};if("object"==typeof document){var eb=document.all;el.call(eb)===el.call(document.all)&&(isDDA=function(et){if((ey||!et)&&(void 0===et||"object"==typeof et))try{var ei=el.call(et);return(ei===ep||ei===eh||ei===eg||ei===ec)&&null==et("")}catch(et){}return!1})}et.exports=ea?function(et){if(isDDA(et))return!0;if(!et||"function"!=typeof et&&"object"!=typeof et)return!1;try{ea(et,null,ei)}catch(et){if(et!==eo)return!1}return!isES6ClassFn(et)&&tryFunctionObject(et)}:function(et){if(isDDA(et))return!0;if(!et||"function"!=typeof et&&"object"!=typeof et)return!1;if(em)return tryFunctionObject(et);if(isES6ClassFn(et))return!1;var ei=el.call(et);return!!(ei===ed||ei===ef||/^\[object HTML/.test(ei))&&tryFunctionObject(et)}},37136:function(et,ei,eo){"use strict";var es,ea=Object.prototype.toString,eu=Function.prototype.toString,el=/^\s*(?:function)?\*/,ec=eo(73342)(),ed=Object.getPrototypeOf,getGeneratorFunc=function(){if(!ec)return!1;try{return Function("return function*() {}")()}catch(et){}};et.exports=function(et){if("function"!=typeof et)return!1;if(el.test(eu.call(et)))return!0;if(!ec)return"[object GeneratorFunction]"===ea.call(et);if(!ed)return!1;if(void 0===es){var ei=getGeneratorFunc();es=!!ei&&ed(ei)}return ed(et)===es}},7485:function(et,ei,eo){"use strict";var es=eo(93969);et.exports=function(et){return!!es(et)}},8660:function(et){function arrayAggregator(et,ei,eo,es){for(var ea=-1,eu=null==et?0:et.length;++ea<eu;){var el=et[ea];ei(es,el,eo(el),et)}return es}et.exports=arrayAggregator},3792:function(et,ei,eo){var es=eo(61701);function baseAggregator(et,ei,eo,ea){return es(et,function(et,es,eu){ei(ea,et,eo(et),eu)}),ea}et.exports=baseAggregator},17325:function(et,ei,eo){var es=eo(8660),ea=eo(3792),eu=eo(55833),el=eo(55589);function createAggregator(et,ei){return function(eo,ec){var ed=el(eo)?es:ea,ef=ei?ei():{};return ed(eo,et,eu(ec,2),ef)}}et.exports=createAggregator},50663:function(et,ei,eo){var es=eo(17325)(function(et,ei,eo){et[eo?0:1].push(ei)},function(){return[[],[]]});et.exports=es},82292:function(module){var __dirname="/";!function(){var __webpack_modules__={950:function(__unused_webpack_module,exports){var indexOf=function(et,ei){if(et.indexOf)return et.indexOf(ei);for(var eo=0;eo<et.length;eo++)if(et[eo]===ei)return eo;return -1},Object_keys=function(et){if(Object.keys)return Object.keys(et);var ei=[];for(var eo in et)ei.push(eo);return ei},forEach=function(et,ei){if(et.forEach)return et.forEach(ei);for(var eo=0;eo<et.length;eo++)ei(et[eo],eo,et)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(et,ei,eo){Object.defineProperty(et,ei,{writable:!0,enumerable:!1,configurable:!0,value:eo})}}catch(et){return function(et,ei,eo){et[ei]=eo}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(et){if(!(this instanceof Script))return new Script(et);this.code=et};Script.prototype.runInContext=function(et){if(!(et instanceof Context))throw TypeError("needs a 'context' argument.");var ei=document.createElement("iframe");ei.style||(ei.style={}),ei.style.display="none",document.body.appendChild(ei);var eo=ei.contentWindow,es=eo.eval,ea=eo.execScript;!es&&ea&&(ea.call(eo,"null"),es=eo.eval),forEach(Object_keys(et),function(ei){eo[ei]=et[ei]}),forEach(globals,function(ei){et[ei]&&(eo[ei]=et[ei])});var eu=Object_keys(eo),el=es.call(eo,this.code);return forEach(Object_keys(eo),function(ei){(ei in et||-1===indexOf(eu,ei))&&(et[ei]=eo[ei])}),forEach(globals,function(ei){ei in et||defineProp(et,ei,eo[ei])}),document.body.removeChild(ei),el},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(et){var ei=Script.createContext(et),eo=this.runInContext(ei);return et&&forEach(Object_keys(ei),function(eo){et[eo]=ei[eo]}),eo},forEach(Object_keys(Script.prototype),function(et){exports[et]=Script[et]=function(ei){var eo=Script(ei);return eo[et].apply(eo,[].slice.call(arguments,1))}}),exports.isContext=function(et){return et instanceof Context},exports.createScript=function(et){return exports.Script(et)},exports.createContext=Script.createContext=function(et){var ei=new Context;return"object"==typeof et&&forEach(Object_keys(et),function(eo){ei[eo]=et[eo]}),ei}}};"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var __nested_webpack_exports__={};__webpack_modules__[950](0,__nested_webpack_exports__),module.exports=__nested_webpack_exports__}()},21607:function(et,ei,eo){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var es=eo(18238),ea=es.Buffer;function copyProps(et,ei){for(var eo in et)ei[eo]=et[eo]}function SafeBuffer(et,ei,eo){return ea(et,ei,eo)}ea.from&&ea.alloc&&ea.allocUnsafe&&ea.allocUnsafeSlow?et.exports=es:(copyProps(es,ei),ei.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(ea.prototype),copyProps(ea,SafeBuffer),SafeBuffer.from=function(et,ei,eo){if("number"==typeof et)throw TypeError("Argument must not be a number");return ea(et,ei,eo)},SafeBuffer.alloc=function(et,ei,eo){if("number"!=typeof et)throw TypeError("Argument must be a number");var es=ea(et);return void 0!==ei?"string"==typeof eo?es.fill(ei,eo):es.fill(ei):es.fill(0),es},SafeBuffer.allocUnsafe=function(et){if("number"!=typeof et)throw TypeError("Argument must be a number");return ea(et)},SafeBuffer.allocUnsafeSlow=function(et){if("number"!=typeof et)throw TypeError("Argument must be a number");return es.SlowBuffer(et)}},59993:function(et,ei,eo){var es=eo(47477);function Stream(){es.call(this)}Stream.prototype=new es,et.exports=Stream,Stream.Stream=Stream,Stream.prototype.pipe=function(et,ei){var eo=this;function ondata(ei){et.writable&&!1===et.write(ei)&&eo.pause&&eo.pause()}function ondrain(){eo.readable&&eo.resume&&eo.resume()}eo.on("data",ondata),et.on("drain",ondrain),et._isStdio||ei&&!1===ei.end||(eo.on("end",onend),eo.on("close",onclose));var es=!1;function onend(){es||(es=!0,et.end())}function onclose(){es||(es=!0,"function"==typeof et.destroy&&et.destroy())}function onerror(et){if(cleanup(),!this.hasListeners("error"))throw et}function cleanup(){eo.off("data",ondata),et.off("drain",ondrain),eo.off("end",onend),eo.off("close",onclose),eo.off("error",onerror),et.off("error",onerror),eo.off("end",cleanup),eo.off("close",cleanup),et.off("end",cleanup),et.off("close",cleanup)}return eo.on("error",onerror),et.on("error",onerror),eo.on("end",cleanup),eo.on("close",cleanup),et.on("end",cleanup),et.on("close",cleanup),et.emit("pipe",eo),et}},23457:function(et,ei,eo){"use strict";var es=eo(21607).Buffer,ea=es.isEncoding||function(et){switch((et=""+et)&&et.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(et){var ei;if(!et)return"utf8";for(;;)switch(et){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return et;default:if(ei)return;et=(""+et).toLowerCase(),ei=!0}}function normalizeEncoding(et){var ei=_normalizeEncoding(et);if("string"!=typeof ei&&(es.isEncoding===ea||!ea(et)))throw Error("Unknown encoding: "+et);return ei||et}function StringDecoder(et){var ei;switch(this.encoding=normalizeEncoding(et),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,ei=4;break;case"utf8":this.fillLast=utf8FillLast,ei=4;break;case"base64":this.text=base64Text,this.end=base64End,ei=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=es.allocUnsafe(ei)}function utf8CheckByte(et){return et<=127?0:et>>5==6?2:et>>4==14?3:et>>3==30?4:et>>6==2?-1:-2}function utf8CheckIncomplete(et,ei,eo){var es=ei.length-1;if(es<eo)return 0;var ea=utf8CheckByte(ei[es]);return ea>=0?(ea>0&&(et.lastNeed=ea-1),ea):--es<eo||-2===ea?0:(ea=utf8CheckByte(ei[es]))>=0?(ea>0&&(et.lastNeed=ea-2),ea):--es<eo||-2===ea?0:(ea=utf8CheckByte(ei[es]))>=0?(ea>0&&(2===ea?ea=0:et.lastNeed=ea-3),ea):0}function utf8CheckExtraBytes(et,ei,eo){if((192&ei[0])!=128)return et.lastNeed=0,"�";if(et.lastNeed>1&&ei.length>1){if((192&ei[1])!=128)return et.lastNeed=1,"�";if(et.lastNeed>2&&ei.length>2&&(192&ei[2])!=128)return et.lastNeed=2,"�"}}function utf8FillLast(et){var ei=this.lastTotal-this.lastNeed,eo=utf8CheckExtraBytes(this,et,ei);return void 0!==eo?eo:this.lastNeed<=et.length?(et.copy(this.lastChar,ei,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(et.copy(this.lastChar,ei,0,et.length),this.lastNeed-=et.length)}function utf8Text(et,ei){var eo=utf8CheckIncomplete(this,et,ei);if(!this.lastNeed)return et.toString("utf8",ei);this.lastTotal=eo;var es=et.length-(eo-this.lastNeed);return et.copy(this.lastChar,0,es),et.toString("utf8",ei,es)}function utf8End(et){var ei=et&&et.length?this.write(et):"";return this.lastNeed?ei+"�":ei}function utf16Text(et,ei){if((et.length-ei)%2==0){var eo=et.toString("utf16le",ei);if(eo){var es=eo.charCodeAt(eo.length-1);if(es>=55296&&es<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=et[et.length-2],this.lastChar[1]=et[et.length-1],eo.slice(0,-1)}return eo}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=et[et.length-1],et.toString("utf16le",ei,et.length-1)}function utf16End(et){var ei=et&&et.length?this.write(et):"";if(this.lastNeed){var eo=this.lastTotal-this.lastNeed;return ei+this.lastChar.toString("utf16le",0,eo)}return ei}function base64Text(et,ei){var eo=(et.length-ei)%3;return 0===eo?et.toString("base64",ei):(this.lastNeed=3-eo,this.lastTotal=3,1===eo?this.lastChar[0]=et[et.length-1]:(this.lastChar[0]=et[et.length-2],this.lastChar[1]=et[et.length-1]),et.toString("base64",ei,et.length-eo))}function base64End(et){var ei=et&&et.length?this.write(et):"";return this.lastNeed?ei+this.lastChar.toString("base64",0,3-this.lastNeed):ei}function simpleWrite(et){return et.toString(this.encoding)}function simpleEnd(et){return et&&et.length?this.write(et):""}ei.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(et){var ei,eo;if(0===et.length)return"";if(this.lastNeed){if(void 0===(ei=this.fillLast(et)))return"";eo=this.lastNeed,this.lastNeed=0}else eo=0;return eo<et.length?ei?ei+this.text(et,eo):this.text(et,eo):ei||""},StringDecoder.prototype.end=utf8End,StringDecoder.prototype.text=utf8Text,StringDecoder.prototype.fillLast=function(et){if(this.lastNeed<=et.length)return et.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);et.copy(this.lastChar,this.lastTotal-this.lastNeed,0,et.length),this.lastNeed-=et.length}},18946:function(et){et.exports=function(et){return et&&"object"==typeof et&&"function"==typeof et.copy&&"function"==typeof et.fill&&"function"==typeof et.readUInt8}},76096:function(et,ei,eo){"use strict";var es=eo(59462),ea=eo(37136),eu=eo(93969),el=eo(7485);function uncurryThis(et){return et.call.bind(et)}var ec="undefined"!=typeof BigInt,ed="undefined"!=typeof Symbol,ef=uncurryThis(Object.prototype.toString),ep=uncurryThis(Number.prototype.valueOf),eh=uncurryThis(String.prototype.valueOf),eg=uncurryThis(Boolean.prototype.valueOf);if(ec)var em=uncurryThis(BigInt.prototype.valueOf);if(ed)var ey=uncurryThis(Symbol.prototype.valueOf);function checkBoxedPrimitive(et,ei){if("object"!=typeof et)return!1;try{return ei(et),!0}catch(et){return!1}}function isPromise(et){return"undefined"!=typeof Promise&&et instanceof Promise||null!==et&&"object"==typeof et&&"function"==typeof et.then&&"function"==typeof et.catch}function isArrayBufferView(et){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(et):el(et)||isDataView(et)}function isUint8Array(et){return"Uint8Array"===eu(et)}function isUint8ClampedArray(et){return"Uint8ClampedArray"===eu(et)}function isUint16Array(et){return"Uint16Array"===eu(et)}function isUint32Array(et){return"Uint32Array"===eu(et)}function isInt8Array(et){return"Int8Array"===eu(et)}function isInt16Array(et){return"Int16Array"===eu(et)}function isInt32Array(et){return"Int32Array"===eu(et)}function isFloat32Array(et){return"Float32Array"===eu(et)}function isFloat64Array(et){return"Float64Array"===eu(et)}function isBigInt64Array(et){return"BigInt64Array"===eu(et)}function isBigUint64Array(et){return"BigUint64Array"===eu(et)}function isMapToString(et){return"[object Map]"===ef(et)}function isMap(et){return"undefined"!=typeof Map&&(isMapToString.working?isMapToString(et):et instanceof Map)}function isSetToString(et){return"[object Set]"===ef(et)}function isSet(et){return"undefined"!=typeof Set&&(isSetToString.working?isSetToString(et):et instanceof Set)}function isWeakMapToString(et){return"[object WeakMap]"===ef(et)}function isWeakMap(et){return"undefined"!=typeof WeakMap&&(isWeakMapToString.working?isWeakMapToString(et):et instanceof WeakMap)}function isWeakSetToString(et){return"[object WeakSet]"===ef(et)}function isWeakSet(et){return isWeakSetToString(et)}function isArrayBufferToString(et){return"[object ArrayBuffer]"===ef(et)}function isArrayBuffer(et){return"undefined"!=typeof ArrayBuffer&&(isArrayBufferToString.working?isArrayBufferToString(et):et instanceof ArrayBuffer)}function isDataViewToString(et){return"[object DataView]"===ef(et)}function isDataView(et){return"undefined"!=typeof DataView&&(isDataViewToString.working?isDataViewToString(et):et instanceof DataView)}ei.isArgumentsObject=es,ei.isGeneratorFunction=ea,ei.isTypedArray=el,ei.isPromise=isPromise,ei.isArrayBufferView=isArrayBufferView,ei.isUint8Array=isUint8Array,ei.isUint8ClampedArray=isUint8ClampedArray,ei.isUint16Array=isUint16Array,ei.isUint32Array=isUint32Array,ei.isInt8Array=isInt8Array,ei.isInt16Array=isInt16Array,ei.isInt32Array=isInt32Array,ei.isFloat32Array=isFloat32Array,ei.isFloat64Array=isFloat64Array,ei.isBigInt64Array=isBigInt64Array,ei.isBigUint64Array=isBigUint64Array,isMapToString.working="undefined"!=typeof Map&&isMapToString(new Map),ei.isMap=isMap,isSetToString.working="undefined"!=typeof Set&&isSetToString(new Set),ei.isSet=isSet,isWeakMapToString.working="undefined"!=typeof WeakMap&&isWeakMapToString(new WeakMap),ei.isWeakMap=isWeakMap,isWeakSetToString.working="undefined"!=typeof WeakSet&&isWeakSetToString(new WeakSet),ei.isWeakSet=isWeakSet,isArrayBufferToString.working="undefined"!=typeof ArrayBuffer&&isArrayBufferToString(new ArrayBuffer),ei.isArrayBuffer=isArrayBuffer,isDataViewToString.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&isDataViewToString(new DataView(new ArrayBuffer(1),0,1)),ei.isDataView=isDataView;var eb="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function isSharedArrayBufferToString(et){return"[object SharedArrayBuffer]"===ef(et)}function isSharedArrayBuffer(et){return void 0!==eb&&(void 0===isSharedArrayBufferToString.working&&(isSharedArrayBufferToString.working=isSharedArrayBufferToString(new eb)),isSharedArrayBufferToString.working?isSharedArrayBufferToString(et):et instanceof eb)}function isAsyncFunction(et){return"[object AsyncFunction]"===ef(et)}function isMapIterator(et){return"[object Map Iterator]"===ef(et)}function isSetIterator(et){return"[object Set Iterator]"===ef(et)}function isGeneratorObject(et){return"[object Generator]"===ef(et)}function isWebAssemblyCompiledModule(et){return"[object WebAssembly.Module]"===ef(et)}function isNumberObject(et){return checkBoxedPrimitive(et,ep)}function isStringObject(et){return checkBoxedPrimitive(et,eh)}function isBooleanObject(et){return checkBoxedPrimitive(et,eg)}function isBigIntObject(et){return ec&&checkBoxedPrimitive(et,em)}function isSymbolObject(et){return ed&&checkBoxedPrimitive(et,ey)}function isBoxedPrimitive(et){return isNumberObject(et)||isStringObject(et)||isBooleanObject(et)||isBigIntObject(et)||isSymbolObject(et)}function isAnyArrayBuffer(et){return"undefined"!=typeof Uint8Array&&(isArrayBuffer(et)||isSharedArrayBuffer(et))}ei.isSharedArrayBuffer=isSharedArrayBuffer,ei.isAsyncFunction=isAsyncFunction,ei.isMapIterator=isMapIterator,ei.isSetIterator=isSetIterator,ei.isGeneratorObject=isGeneratorObject,ei.isWebAssemblyCompiledModule=isWebAssemblyCompiledModule,ei.isNumberObject=isNumberObject,ei.isStringObject=isStringObject,ei.isBooleanObject=isBooleanObject,ei.isBigIntObject=isBigIntObject,ei.isSymbolObject=isSymbolObject,ei.isBoxedPrimitive=isBoxedPrimitive,ei.isAnyArrayBuffer=isAnyArrayBuffer,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(et){Object.defineProperty(ei,et,{enumerable:!1,value:function(){throw Error(et+" is not supported in userland")}})})},80911:function(et,ei,eo){var es=eo(73656),ea=Object.getOwnPropertyDescriptors||function(et){for(var ei=Object.keys(et),eo={},es=0;es<ei.length;es++)eo[ei[es]]=Object.getOwnPropertyDescriptor(et,ei[es]);return eo},eu=/%[sdj%]/g;ei.format=function(et){if(!isString(et)){for(var ei=[],eo=0;eo<arguments.length;eo++)ei.push(inspect(arguments[eo]));return ei.join(" ")}for(var eo=1,es=arguments,ea=es.length,el=String(et).replace(eu,function(et){if("%%"===et)return"%";if(eo>=ea)return et;switch(et){case"%s":return String(es[eo++]);case"%d":return Number(es[eo++]);case"%j":try{return JSON.stringify(es[eo++])}catch(et){return"[Circular]"}default:return et}}),ec=es[eo];eo<ea;ec=es[++eo])isNull(ec)||!isObject(ec)?el+=" "+ec:el+=" "+inspect(ec);return el},ei.deprecate=function(et,eo){if(void 0!==es&&!0===es.noDeprecation)return et;if(void 0===es)return function(){return ei.deprecate(et,eo).apply(this,arguments)};var ea=!1;return function(){if(!ea){if(es.throwDeprecation)throw Error(eo);es.traceDeprecation?console.trace(eo):console.error(eo),ea=!0}return et.apply(this,arguments)}};var el={},ec=/^$/;if(es.env.NODE_DEBUG){var ed=es.env.NODE_DEBUG;ec=RegExp("^"+(ed=ed.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function inspect(et,eo){var es={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(es.depth=arguments[2]),arguments.length>=4&&(es.colors=arguments[3]),isBoolean(eo)?es.showHidden=eo:eo&&ei._extend(es,eo),isUndefined(es.showHidden)&&(es.showHidden=!1),isUndefined(es.depth)&&(es.depth=2),isUndefined(es.colors)&&(es.colors=!1),isUndefined(es.customInspect)&&(es.customInspect=!0),es.colors&&(es.stylize=stylizeWithColor),formatValue(es,et,es.depth)}function stylizeWithColor(et,ei){var eo=inspect.styles[ei];return eo?"\x1b["+inspect.colors[eo][0]+"m"+et+"\x1b["+inspect.colors[eo][1]+"m":et}function stylizeNoColor(et,ei){return et}function arrayToHash(et){var ei={};return et.forEach(function(et,eo){ei[et]=!0}),ei}function formatValue(et,eo,es){if(et.customInspect&&eo&&isFunction(eo.inspect)&&eo.inspect!==ei.inspect&&!(eo.constructor&&eo.constructor.prototype===eo)){var ea,eu=eo.inspect(es,et);return isString(eu)||(eu=formatValue(et,eu,es)),eu}var el=formatPrimitive(et,eo);if(el)return el;var ec=Object.keys(eo),ed=arrayToHash(ec);if(et.showHidden&&(ec=Object.getOwnPropertyNames(eo)),isError(eo)&&(ec.indexOf("message")>=0||ec.indexOf("description")>=0))return formatError(eo);if(0===ec.length){if(isFunction(eo)){var ef=eo.name?": "+eo.name:"";return et.stylize("[Function"+ef+"]","special")}if(isRegExp(eo))return et.stylize(RegExp.prototype.toString.call(eo),"regexp");if(isDate(eo))return et.stylize(Date.prototype.toString.call(eo),"date");if(isError(eo))return formatError(eo)}var ep="",eh=!1,eg=["{","}"];return(isArray(eo)&&(eh=!0,eg=["[","]"]),isFunction(eo)&&(ep=" [Function"+(eo.name?": "+eo.name:"")+"]"),isRegExp(eo)&&(ep=" "+RegExp.prototype.toString.call(eo)),isDate(eo)&&(ep=" "+Date.prototype.toUTCString.call(eo)),isError(eo)&&(ep=" "+formatError(eo)),0!==ec.length||eh&&0!=eo.length)?es<0?isRegExp(eo)?et.stylize(RegExp.prototype.toString.call(eo),"regexp"):et.stylize("[Object]","special"):(et.seen.push(eo),ea=eh?formatArray(et,eo,es,ed,ec):ec.map(function(ei){return formatProperty(et,eo,es,ed,ei,eh)}),et.seen.pop(),reduceToSingleString(ea,ep,eg)):eg[0]+ep+eg[1]}function formatPrimitive(et,ei){if(isUndefined(ei))return et.stylize("undefined","undefined");if(isString(ei)){var eo="'"+JSON.stringify(ei).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return et.stylize(eo,"string")}return isNumber(ei)?et.stylize(""+ei,"number"):isBoolean(ei)?et.stylize(""+ei,"boolean"):isNull(ei)?et.stylize("null","null"):void 0}function formatError(et){return"["+Error.prototype.toString.call(et)+"]"}function formatArray(et,ei,eo,es,ea){for(var eu=[],el=0,ec=ei.length;el<ec;++el)hasOwnProperty(ei,String(el))?eu.push(formatProperty(et,ei,eo,es,String(el),!0)):eu.push("");return ea.forEach(function(ea){ea.match(/^\d+$/)||eu.push(formatProperty(et,ei,eo,es,ea,!0))}),eu}function formatProperty(et,ei,eo,es,ea,eu){var el,ec,ed;if((ed=Object.getOwnPropertyDescriptor(ei,ea)||{value:ei[ea]}).get?ec=ed.set?et.stylize("[Getter/Setter]","special"):et.stylize("[Getter]","special"):ed.set&&(ec=et.stylize("[Setter]","special")),hasOwnProperty(es,ea)||(el="["+ea+"]"),!ec&&(0>et.seen.indexOf(ed.value)?(ec=isNull(eo)?formatValue(et,ed.value,null):formatValue(et,ed.value,eo-1)).indexOf("\n")>-1&&(ec=eu?ec.split("\n").map(function(et){return"  "+et}).join("\n").slice(2):"\n"+ec.split("\n").map(function(et){return"   "+et}).join("\n")):ec=et.stylize("[Circular]","special")),isUndefined(el)){if(eu&&ea.match(/^\d+$/))return ec;(el=JSON.stringify(""+ea)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(el=el.slice(1,-1),el=et.stylize(el,"name")):(el=el.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),el=et.stylize(el,"string"))}return el+": "+ec}function reduceToSingleString(et,ei,eo){var es=0;return et.reduce(function(et,ei){return es++,ei.indexOf("\n")>=0&&es++,et+ei.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?eo[0]+(""===ei?"":ei+"\n ")+" "+et.join(",\n  ")+" "+eo[1]:eo[0]+ei+" "+et.join(", ")+" "+eo[1]}function isArray(et){return Array.isArray(et)}function isBoolean(et){return"boolean"==typeof et}function isNull(et){return null===et}function isNullOrUndefined(et){return null==et}function isNumber(et){return"number"==typeof et}function isString(et){return"string"==typeof et}function isSymbol(et){return"symbol"==typeof et}function isUndefined(et){return void 0===et}function isRegExp(et){return isObject(et)&&"[object RegExp]"===objectToString(et)}function isObject(et){return"object"==typeof et&&null!==et}function isDate(et){return isObject(et)&&"[object Date]"===objectToString(et)}function isError(et){return isObject(et)&&("[object Error]"===objectToString(et)||et instanceof Error)}function isFunction(et){return"function"==typeof et}function isPrimitive(et){return null===et||"boolean"==typeof et||"number"==typeof et||"string"==typeof et||"symbol"==typeof et||void 0===et}function objectToString(et){return Object.prototype.toString.call(et)}function pad(et){return et<10?"0"+et.toString(10):et.toString(10)}ei.debuglog=function(et){if(!el[et=et.toUpperCase()]){if(ec.test(et)){var eo=es.pid;el[et]=function(){var es=ei.format.apply(ei,arguments);console.error("%s %d: %s",et,eo,es)}}else el[et]=function(){}}return el[et]},ei.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},ei.types=eo(76096),ei.isArray=isArray,ei.isBoolean=isBoolean,ei.isNull=isNull,ei.isNullOrUndefined=isNullOrUndefined,ei.isNumber=isNumber,ei.isString=isString,ei.isSymbol=isSymbol,ei.isUndefined=isUndefined,ei.isRegExp=isRegExp,ei.types.isRegExp=isRegExp,ei.isObject=isObject,ei.isDate=isDate,ei.types.isDate=isDate,ei.isError=isError,ei.types.isNativeError=isError,ei.isFunction=isFunction,ei.isPrimitive=isPrimitive,ei.isBuffer=eo(18946);var ef=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var et=new Date,ei=[pad(et.getHours()),pad(et.getMinutes()),pad(et.getSeconds())].join(":");return[et.getDate(),ef[et.getMonth()],ei].join(" ")}function hasOwnProperty(et,ei){return Object.prototype.hasOwnProperty.call(et,ei)}ei.log=function(){console.log("%s - %s",timestamp(),ei.format.apply(ei,arguments))},ei.inherits=eo(67483),ei._extend=function(et,ei){if(!ei||!isObject(ei))return et;for(var eo=Object.keys(ei),es=eo.length;es--;)et[eo[es]]=ei[eo[es]];return et};var ep="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function callbackifyOnRejected(et,ei){if(!et){var eo=Error("Promise was rejected with a falsy value");eo.reason=et,et=eo}return ei(et)}function callbackify(et){if("function"!=typeof et)throw TypeError('The "original" argument must be of type Function');function callbackified(){for(var ei=[],eo=0;eo<arguments.length;eo++)ei.push(arguments[eo]);var ea=ei.pop();if("function"!=typeof ea)throw TypeError("The last argument must be of type Function");var eu=this,cb=function(){return ea.apply(eu,arguments)};et.apply(this,ei).then(function(et){es.nextTick(cb.bind(null,null,et))},function(et){es.nextTick(callbackifyOnRejected.bind(null,et,cb))})}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(et)),Object.defineProperties(callbackified,ea(et)),callbackified}ei.promisify=function(et){if("function"!=typeof et)throw TypeError('The "original" argument must be of type Function');if(ep&&et[ep]){var fn=et[ep];if("function"!=typeof fn)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(fn,ep,{value:fn,enumerable:!1,writable:!1,configurable:!0}),fn}function fn(){for(var ei,eo,es=new Promise(function(et,es){ei=et,eo=es}),ea=[],eu=0;eu<arguments.length;eu++)ea.push(arguments[eu]);ea.push(function(et,es){et?eo(et):ei(es)});try{et.apply(this,ea)}catch(et){eo(et)}return es}return Object.setPrototypeOf(fn,Object.getPrototypeOf(et)),ep&&Object.defineProperty(fn,ep,{value:fn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(fn,ea(et))},ei.promisify.custom=ep,ei.callbackify=callbackify},93969:function(et,ei,eo){"use strict";var es=eo(98),ea=eo(13719),eu=eo(72248),el=eo(67639),ec=eo(98158),ed=el("Object.prototype.toString"),ef=eo(73342)(),ep="undefined"==typeof globalThis?eo.g:globalThis,eh=ea(),eg=el("String.prototype.slice"),em=Object.getPrototypeOf,ey=el("Array.prototype.indexOf",!0)||function(et,ei){for(var eo=0;eo<et.length;eo+=1)if(et[eo]===ei)return eo;return -1},eb={__proto__:null};ef&&ec&&em?es(eh,function(et){var ei=new ep[et];if(Symbol.toStringTag in ei){var eo=em(ei),es=ec(eo,Symbol.toStringTag);es||(es=ec(em(eo),Symbol.toStringTag)),eb["$"+et]=eu(es.get)}}):es(eh,function(et){var ei=new ep[et],eo=ei.slice||ei.set;eo&&(eb["$"+et]=eu(eo))});var tryTypedArrays=function(et){var ei=!1;return es(eb,function(eo,es){if(!ei)try{"$"+eo(et)===es&&(ei=eg(es,1))}catch(et){}}),ei},trySlices=function(et){var ei=!1;return es(eb,function(eo,es){if(!ei)try{eo(et),ei=eg(es,1)}catch(et){}}),ei};et.exports=function(et){if(!et||"object"!=typeof et)return!1;if(!ef){var ei=eg(ed(et),8,-1);return ey(eh,ei)>-1?ei:"Object"===ei&&trySlices(et)}return ec?tryTypedArrays(et):null}},54191:function(et,ei,eo){"use strict";function extendZodWithOpenApi(et){if(void 0!==et.ZodType.prototype.openapi)return;et.ZodType.prototype.openapi=function(et){let ei=new this.constructor({...this._def,openapi:et});return ei};let ei=et.ZodObject.prototype.extend;et.ZodObject.prototype.extend=function(...et){let eo=ei.apply(this,et);return eo._def.extendMetadata={extends:this},delete eo._def.openapi,eo};let eo=et.ZodObject.prototype.omit;et.ZodObject.prototype.omit=function(...et){let ei=eo.apply(this,et);return delete ei._def.extendMetadata,delete ei._def.openapi,ei};let es=et.ZodObject.prototype.pick;et.ZodObject.prototype.pick=function(...et){let ei=es.apply(this,et);return delete ei._def.extendMetadata,delete ei._def.openapi,ei}}eo.d(ei,{T:function(){return extendZodWithOpenApi}})},13719:function(et,ei,eo){"use strict";var es=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],ea="undefined"==typeof globalThis?eo.g:globalThis;et.exports=function(){for(var et=[],ei=0;ei<es.length;ei++)"function"==typeof ea[es[ei]]&&(et[et.length]=es[ei]);return et}},17021:function(et,ei,eo){"use strict";let es;eo.d(ei,{bI:function(){return eG},Tc:function(){return eF},TY:function(){return ef}});var ea=eo(97458),eu=eo(52983),el=eo(1850),ec=eo(54191);let ed=`# Role: You are an exceptional [Job Title: e.g., Customer Support Representative, Content Creator]. You possess in-depth knowledge and skills in [Topic/Industry/Skill: e.g., digital marketing, software development].

# Objective: Your main objective is to [Goal: e.g., resolve customer queries, edit or create content]. To achieve this, adhere to these steps:

[Rule/Engagement Step 1: e.g., Always begin by understanding the user's needs with a clarifying question.]

[Rule/Engagement Step 2: e.g., Provide concise and accurate information.]

[Further Steps: e.g., Offer additional resources or guidance if needed.]

# Audience: You will engage with [Audience Description: e.g., non-technical potential clients, business owners]. These users are primarily interested in [Topic/Area of Interest: e.g., home repair, marketing services].

# Context: For effective engagement, you will need to utilize the following information [Background Context: e.g., company history, contact info]. Also utilize these key resources when necessary:

[Resource 1: URL and brief description]

[Resource 2: URL and brief description]

# Style: Your communication style should be [Style/Personality Traits: e.g., professional, yet engaging]. Always structure your responses with [Formatting Requirements: e.g., clear headings, bullet points, use of emojis when appropriate].

# Other Rules: If a user asks questions beyond the scope of [Primary Topic: e.g., company product], do not address these queries directly. Instead, guide them back to the topics you can assist with by providing a list of relevant subjects or redirecting them to the appropriate resources.`,ef={Chatbot:"Chatbot",Config:"Config",Content:"Content",Data:"Data",Actions:"Actions",Embed:"Embed","Generated from prompt:":"Generated from prompt:","Chatbot name":"Chatbot name","Build an AI-powered chatbot.":"Build an AI-powered chatbot.","Say hello and tell me what you can do.":"Say hello and tell me what you can do.","How can I help you today?":"How can I help you today?","Ask me anything":"Ask me anything",CHATBOT_BLOCK_FIELD_DIRECTIVE_VALUE:ed,"Sorry, I don’t know.":"Sorry, I don’t know.","URL must be at least 4 characters":"URL must be at least 4 characters","This field is required":"This field is required","This field must be no more than {{count}} characters":"This field must be no more than {{count}} characters","Action triggered!":"Action triggered!","User gets a response":"User gets a response","Display a button":"Display a button","Copy response":"Copy response","Run Zap":"Run Zap","No response was generated.":"No response was generated.","Unknown error occurred":"Unknown error occurred","You've reached the chat completion limit for this session.":"You've reached the chat completion limit for this session.","Something went wrong.":"Something went wrong.","Hmm, things are taking a bit too long. You can try again, or try a different question.":"Hmm, things are taking a bit too long. You can try again, or try a different question.","Chatbot is responding...":"Chatbot is responding...",Send:"Send",Close:"Close",Loading:"Loading","This response is helpful":"This response is helpful","This response is not helpful":"This response is not helpful","Rating feedback":"Rating feedback","Submit feedback":"Submit feedback","What do you like about the response?":"What do you like about the response?","What do you dislike about the response?":"What do you dislike about the response?","This is an automated chatbot response. [Learn more](https://zapier.com/legal/terms-of-service)":"This is an automated chatbot response. [Learn more](https://zapier.com/legal/terms-of-service)","Prompt input provided to the response above":"Prompt input provided to the response above","Response generated to the prompt input above":"Response generated to the prompt input above","This is a demo response":"This is a demo response","Greeting generated from prompt":"Greeting generated from prompt","Thanks for the feedback!":"Thanks for the feedback!","Jump to latest":"Jump to latest",Height:"Height","Prompt placeholder":"Prompt placeholder",Greeting:"Greeting","This will be the first message the user sees.":"This will be the first message the user sees.","The chatbot will generate the first message the user sees based on its directive and this prompt.":"The chatbot will generate the first message the user sees based on its directive and this prompt.",Directive:"Directive","Tell the bot how you’d like it to respond. You can include style, tone, accent, and more.":"Tell the bot how you’d like it to respond. You can include style, tone, accent, and more.","Disclosure message":"Disclosure message","Required for Zapier employees.":"Required for Zapier employees.","Data sources":"Data sources","This input accepts markdown links.":"This input accepts markdown links.","OpenAI authentication":"OpenAI authentication","This authentication isn’t working.":"This authentication isn’t working.","List of connected OpenAI authentications":"List of connected OpenAI authentications",Model:"Model","List of available GPT models":"List of available GPT models","Model availability depends on the selected authentication.":"Model availability depends on the selected authentication.","When results are not found from the data source":"When results are not found from the data source","Generate an AI response without data sources":"Generate an AI response without data sources","Show a custom message":"Show a custom message",Sources:"Sources","No data sources":"No data sources","Custom message":"Custom message","List of behaviors when no results are found from the data source":"List of behaviors when no results are found from the data source","This defines the experience when results are not found from the data source.":"This defines the experience when results are not found from the data source.","Source material":"Source material","Add data sources to teach your chatbot anything it doesn’t already know.":"Add data sources to teach your chatbot anything it doesn’t already know.","Deleting...":"Deleting...","Delete data source":"Delete data source","Are you sure? You’ll no longer be able to use this data source.":"Are you sure? You’ll no longer be able to use this data source.","Replace data source":"Replace data source","You’ve reached the maximum number of sources.":"You’ve reached the maximum number of sources.","Add source":"Add source","Preview data source chunks":"Preview data source chunks","Show all chunks ({{count}})":"Show all chunks ({{count}})","Max response length (tokens)":"Max response length (tokens)","The default setting is {{contextLimit}} max tokens used per response for this model.":"The default setting is {{contextLimit}} max tokens used per response for this model.","Set the max length for individual chatbot responses. The max setting available for this model is {{contextLimit}} tokens.":"Set the max length for individual chatbot responses. The max setting available for this model is {{contextLimit}} tokens.","this model":"this model","Only the project owner can manage the Chatbot’s authentication.":"Only the project owner can manage the Chatbot’s authentication.","Save changes":"Save changes","Cannot be lower than {{count}}.":"Cannot be lower than {{count}}.","Cannot be higher than {{count}}.":"Cannot be higher than {{count}}.",Creativity:"Creativity",Predictable:"Predictable",Random:"Random","Reset to default":"Reset to default","Connect a custom data source":"Connect a custom data source","Upload a file with your own knowledge to tailor the AI Chatbot responses for your business or project.":"Upload a file with your own knowledge to tailor the AI Chatbot responses for your business or project.","Current functionality includes the ability to upload one 1MB static text file (.txt, .csv, .json, .pdf, .doc, .docx).":"Current functionality includes the ability to upload one 1MB static text file (.txt, .csv, .json, .pdf, .doc, .docx).",Upgrade:"Upgrade","Trigger actions from chatbot responses":"Trigger actions from chatbot responses","gets a response":"gets a response","Setup automations that trigger available actions directly in chat.":"Setup automations that trigger available actions directly in chat.","Add action":"Add action","Use Case":"Use Case","The user’s full name":"The user’s full name","The user’s primary contact email address. Must resemble a valid email address.":"The user’s primary contact email address. Must resemble a valid email address.","The name of the company represented by the user’s inquiry":"The name of the company represented by the user’s inquiry","Unable to parse OpenAI response with Zod schema":"Unable to parse OpenAI response with Zod schema"};(0,ec.T)(el.z);let ep=el.z.enum(["gpt-3.5-turbo","gpt-3.5-turbo-16k","gpt-4","gpt-4-32k"]),eh=(el.z.object({label:el.z.string(),value:ep,contextLimit:el.z.number().int(),requiresUpgrade:el.z.boolean().default(!0),supportedVersion:el.z.string()}),{GPT3:{label:"OpenAI GPT-3.5",value:"gpt-3.5-turbo",contextLimit:16384,requiresUpgrade:!1,supportedVersion:"0125"},GPT3_16k:{label:"OpenAI GPT-3.5 (16k) (Legacy)",value:"gpt-3.5-turbo-16k",contextLimit:16384,requiresUpgrade:!0,supportedVersion:"0613"},GPT4:{label:"OpenAI GPT-4",value:"gpt-4",contextLimit:8192,requiresUpgrade:!0,supportedVersion:"0613"},GPT4_32k:{label:"OpenAI GPT-4 (32k)",value:"gpt-4-32k",contextLimit:32768,requiresUpgrade:!0,supportedVersion:"0613"}}),eg=(Object.values(eh).filter(et=>!et.requiresUpgrade),Object.values(eh).filter(et=>et.requiresUpgrade),el.z.discriminatedUnion("role",[el.z.object({content:el.z.string(),role:el.z.literal("system"),name:el.z.string().optional()}),el.z.object({content:el.z.string(),role:el.z.literal("assistant"),name:el.z.string().optional()}),el.z.object({content:el.z.string(),role:el.z.literal("user"),name:el.z.string().optional()}),el.z.object({content:el.z.string(),role:el.z.literal("function"),name:el.z.string()})])),em=(el.z.object({name:el.z.string(),description:el.z.string(),parameters:el.z.object({type:el.z.literal("object"),properties:el.z.record(el.z.object({type:el.z.string(),description:el.z.string(),enum:el.z.string().array().optional()})),required:el.z.string().array()}).optional()}),el.z.object({id:el.z.string().cuid().or(el.z.string().regex(/^_ACTION_(\d+)$/)).optional(),userEvent:el.z.literal("response"),action:el.z.literal("button"),buttonText:el.z.string().min(1,ef["This field is required"]).max(30,ef["This field must be no more than {{count}} characters"].replace("{{count}}","30")),onClick:el.z.union([el.z.literal("copy"),el.z.literal("zap")]),notificationText:el.z.string().min(1,ef["This field is required"]).max(50,ef["This field must be no more than {{count}} characters"].replace("{{count}}","50")).optional().default(ef["Action triggered!"])})),ey=em.required(),eb=el.z.object({type:el.z.literal("chatbot-button"),config:em}),ev=el.z.discriminatedUnion("type",[eb]),ew=el.z.object({response:el.z.string(),chatbotName:el.z.string().optional(),prompt:el.z.string().optional()}),eS=el.z.object({message:el.z.string(),rating:el.z.number().min(-1).max(1),comment:el.z.string().optional(),conversation:el.z.array(eg)}),eA=el.z.object({type:el.z.literal("ChatbotButtonClick"),blockActionId:el.z.string().cuid(),values:ew}),ex=el.z.object({type:el.z.literal("ChatbotFeedback"),blockId:el.z.string().cuid(),chatbotSessionId:el.z.string().cuid(),values:eS}),eE=(el.z.discriminatedUnion("type",[eA,ex]),el.z.object({accountId:el.z.string(),projectId:el.z.string().optional(),pageId:el.z.string().optional(),blockId:el.z.string(),name:el.z.string(),reference:el.z.string(),text:el.z.string()})),ek=el.z.object({id:el.z.string().cuid(),name:el.z.string().min(1),description:el.z.string().optional().default(""),splitStrategy:el.z.enum(["auto","delimiter","ai","manual"]).optional().default("auto"),splitValue:el.z.string().optional().default(""),chunks:el.z.array(el.z.object({id:el.z.string(),metadata:eE})).optional().default([]),dataType:el.z.enum(["file","table"]),reference:el.z.string().min(1)}),eC=el.z.object({functionName:el.z.string(),description:el.z.string().optional(),zapId:el.z.number(),zapInput:el.z.record(el.z.string(),el.z.object({description:el.z.string().optional(),shouldGuess:el.z.boolean().default(!0),staticValue:el.z.string().optional(),required:el.z.boolean().default(!0)})).optional().default({})}),e_=el.z.object({width:el.z.union([el.z.literal("full"),el.z.literal("wide"),el.z.literal("medium"),el.z.literal("narrow")]).optional(),alignment:el.z.union([el.z.literal("left"),el.z.literal("center"),el.z.literal("right")]).optional(),height:el.z.union([el.z.literal("default"),el.z.literal("custom")]).optional(),heightValue:el.z.number().optional()}),ej=el.z.object({name:el.z.enum(["name","email","company"]),fieldKey:el.z.string().nullable().default(null)}),eO=el.z.object({chatbotName:el.z.string().optional().default(ef.Chatbot),defaultMessageMode:el.z.enum(["static","generated"]).optional().default("static"),defaultPrompt:el.z.string().optional().default(ef["Say hello and tell me what you can do."]),defaultMessage:el.z.string().optional().default(ef["How can I help you today?"]),placeholder:el.z.string().optional().default(ef["Ask me anything"]),directive:el.z.string().optional().default(ef.CHATBOT_BLOCK_FIELD_DIRECTIVE_VALUE),useDirectiveToAlterDefaultMessage:el.z.boolean().optional().default(!0),authenticationId:el.z.string().optional().default(""),model:ep.optional().default("gpt-3.5-turbo"),maxTokens:el.z.coerce.number().int().optional().default(2048),temperature:el.z.number().min(0).max(1).optional().default(.7),collectUserData:el.z.boolean().default(!1),collectUserDataTemplate:el.z.enum(["lead_generation","support","feedback"]).optional().default("lead_generation"),collectUserDataTableId:el.z.string().optional(),collectUserDataFields:el.z.array(ej).optional().default([{name:"name"},{name:"email"},{name:"company"}]),triggers:el.z.array(ev).default([]),displayDisclosure:el.z.boolean().default(!0),disclosureText:el.z.string().optional().default(ef["This is an automated chatbot response. [Learn more](https://zapier.com/legal/terms-of-service)"]),dataSources:el.z.array(ek).optional().default([]),dataSourcesMaxResults:el.z.number().int().min(1).max(5).optional().default(5),dataSourcesResultsQuality:el.z.number().min(.6).max(.95).optional().default(.6),dataSourcesMode:el.z.enum(["source","chatgpt"]).optional().default("chatgpt"),dataSourcesNoResultsMode:el.z.enum(["custom","chatgpt"]).optional().default("chatgpt"),dataSourcesNoResultsMessage:el.z.string().optional().default(ef["Sorry, I don’t know."]),zapFunctions:el.z.array(eC).default([]).optional(),embedHosts:el.z.string().array().default([]),restrictEmbedDomains:el.z.boolean().default(!1)});eO.omit({triggers:!0}).extend({chatbotSessionId:el.z.string().cuid(),isStaticMode:el.z.boolean(),triggers:el.z.array(ey).default([]),user:el.z.string().optional()});let eT=/\$\{\{ *([A-Za-z0-9_.]+) *\}\}/g,eN=el.z.object({id:el.z.string().cuid().or(el.z.string().regex(/^_BLOCK_(\d+)$/)).optional(),chatbotId:el.z.string().cuid().or(el.z.string().regex(eT)).optional(),isConnectedChatbot:el.z.boolean().optional().default(!1),style:e_.default({width:"medium",alignment:"center",height:"default"})}),eF=el.z.object({type:el.z.literal("chatbot-block"),config:eN,errors:el.z.array(el.z.object({code:el.z.enum(["chatbot:authentication-does-not-exist","chatbot:authentication-test-failed","chatbot:model-not-available","chatbot:max-tokens-too-high","chatbot:chatbot-does-not-exist"]),blockId:el.z.string().nullable(),path:el.z.array(el.z.union([el.z.string(),el.z.number()]))})).optional()}),eI=(0,eu.createContext)(null);function ChatbotContextProvider_C({children:et,...ei}){let eo=(0,eu.useMemo)(()=>{var et;let eo=eO.parse(ei.config);return{...ei,...eo,isStaticMode:"static"===eo.defaultMessageMode,triggers:(eo.triggers??[]).map(et=>et.config),user:null==(et=ei.accountId)?void 0:et.toString()}},[ei]);return(0,ea.jsx)(eI.Provider,{value:eo,children:et})}function useChatbotContext_C(){let et=(0,eu.useContext)(eI);if(null===et)throw Error("useChatbotContext must be used within a ChatbotContextProvider");return et}function CopyBotMessage_y({message:et,children:ei,...eo}){let{onEvent:es,projectId:eu,pageId:el,isEmbedded:ec,botActionSlot:ed}=useChatbotContext_C();return(0,ea.jsx)(ed,{...eo,type:"button",onClick:ei=>{navigator.clipboard.writeText(et.content?et.content:"").catch(et=>{console.warn("Failed to copy text: ",et)}).finally(()=>{var et;es({interaction_goal:"copy bot response",event_action:"click",interfaces_project_id:eu,interfaces_page_id:el,interfaces_component_type:"chatbot",embedded_flag:ec}),null==(et=eo.onClick)||et.call(eo,ei)})},children:ei})}function RunZapBotMessage_s({children:et,message:ei,...eo}){let{onEvent:es,projectId:eu,pageId:el,isEmbedded:ec,botActionSlot:ed}=useChatbotContext_C();return(0,ea.jsx)(ed,{...eo,type:"button",onClick:et=>{var ea;null==(ea=eo.onClick)||ea.call(eo,et),es({interaction_raw_text:ei.content,interaction_goal:"run zap with bot response",event_action:"click",interfaces_project_id:eu,interfaces_page_id:el,interfaces_component_type:"chatbot",embedded_flag:ec})},children:et})}var eD=eo(57203);let eP="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var ez={randomUUID:eP};let eU=new Uint8Array(16);function rng(){if(!es&&!(es="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return es(eU)}let eB=[];for(let et=0;et<256;++et)eB.push((et+256).toString(16).slice(1));function unsafeStringify(et,ei=0){return(eB[et[ei+0]]+eB[et[ei+1]]+eB[et[ei+2]]+eB[et[ei+3]]+"-"+eB[et[ei+4]]+eB[et[ei+5]]+"-"+eB[et[ei+6]]+eB[et[ei+7]]+"-"+eB[et[ei+8]]+eB[et[ei+9]]+"-"+eB[et[ei+10]]+eB[et[ei+11]]+eB[et[ei+12]]+eB[et[ei+13]]+eB[et[ei+14]]+eB[et[ei+15]]).toLowerCase()}var esm_browser_v4=function(et,ei,eo){if(ez.randomUUID&&!ei&&!et)return ez.randomUUID();et=et||{};let es=et.random||(et.rng||rng)();if(es[6]=15&es[6]|64,es[8]=63&es[8]|128,ei){eo=eo||0;for(let et=0;et<16;++et)ei[eo+et]=es[et];return ei}return unsafeStringify(es)};let eV=el.z.object({id:el.z.string(),object:el.z.string(),created:el.z.number(),model:el.z.string(),choices:el.z.array(el.z.object({index:el.z.number().int(),message:el.z.object({role:el.z.string(),content:el.z.string()}),finish_reason:el.z.string().nullable()})),usage:el.z.object({prompt_tokens:el.z.number().int(),completion_tokens:el.z.number().int(),total_tokens:el.z.number().int()})}),eM=el.z.object({code:el.z.string(),error:el.z.string(),message:el.z.string().optional(),meta:el.z.object({code:el.z.string(),message:el.z.string(),param:el.z.string(),type:el.z.string()}).partial().passthrough().optional()}).passthrough(),eR=Symbol("interfaces-chat-error-code"),eL=Symbol("interfaces-chat-error-message"),useChatCompletion_i=function(et,ei){let eo=Error(et);return Object.defineProperty(eo,eR,{get:()=>ei}),Object.defineProperty(eo,eL,{get:()=>et}),Error.captureStackTrace&&Error.captureStackTrace(eo,useChatCompletion_i),eo},Y=et=>et[eR],useChatCompletion_q=et=>et[eL];function useChatCompletion_K(et){let{apiEndpoint:ei="/api/chat/v2",idField:eo="blockId",chatbotSessionId:es,config:{model:ea},onUsage:el,fetcher:ec,isPreview:ed}=useChatbotContext_C(),ep=(0,eu.useRef)(""),[eh,eg]=(0,eu.useState)("");return[async function(eu){var eh,em;try{if(!(eo in eu))throw Error("Missing blockId/chatbotId");eg(()=>""),null==et||et(""),ep.current="";let ey=new AbortController,{signal:eb}=ey,ev=setTimeout(()=>ey.abort(),15e3),ew={...eu,chatbotSessionId:es};ed&&(ew.mode="preview");let eS=await ec(ei,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ew),signal:eb});if(clearTimeout(ev),!eS.ok){let et=await eS.json(),ei=eM.safeParse(et);throw ei.success?useChatCompletion_i((null==(eh=ei.data.meta)?void 0:eh.message)??ei.data.error,(null==(em=ei.data.meta)?void 0:em.code)??ei.data.code):useChatCompletion_i(eS.statusText,eS.statusText.toLowerCase().replace(/\s/g,"_"))}let eA=eS.headers.get("x-interfaces-prediction-id")??esm_browser_v4();if("application/json"===eS.headers.get("content-type")){let ei=eV.safeParse(await eS.json());if(!ei.success)throw useChatCompletion_i(ei.error.issues[0].message??ef["Unable to parse OpenAI response with Zod schema"],ei.error.issues[0].code??"");let{choices:[{message:{content:eo}}],usage:es}=ei.data,ec=eo.replace(/^[\n\r]+/g,"");ec&&(ep.current=ep.current+ec,eg(ei=>{let eo=ei+ec;return eo.startsWith("[ERROR]")||null==et||et(eo),eo})),await el(ea,eu.messages,ep.current,es)}else{let ei=eS.body;if(!ei)throw useChatCompletion_i(ef["No response was generated."],"no_data");let eo=ei.getReader(),es=new TextDecoder,ec=!1;for(;!ec;){let{value:ei,done:ea}=await eo.read();ec=ea;let eu=es.decode(ei);eu&&(ep.current=ep.current+eu,eg(ei=>{let eo=ei+eu;return eo.startsWith("[ERROR]")||null==et||et(eo),eo}))}await el(ea,eu.messages,ep.current)}if(ep.current.startsWith("[ERROR]")){let{error:et,code:ei}=eM.parse(JSON.parse(ep.current.replace("[ERROR]","").trim()));throw ep.current="",useChatCompletion_i(et??ef["Unknown error occurred"],ei)}if(ep.current.endsWith("[max_completion_limit]"))throw ep.current="",useChatCompletion_i(ef["You've reached the chat completion limit for this session."],"max_completion_limit");return{status:"complete",code:"success",predictionId:eA}}catch(eu){console.error(eu);let et=eu instanceof DOMException&&"AbortError"===eu.name,ei=useChatCompletion_q(eu),eo=!!ei,es=(et?"timeout":Y(eu))??"unknown",ea=ef["Something went wrong."];return et?ea=ef["Hmm, things are taking a bit too long. You can try again, or try a different question."]:eo&&(ea=ei),ep.current=ea,{status:"error",code:es,predictionId:esm_browser_v4()}}},ep,eh]}function UserPromptContainer_c(){}let eq={role:"user",content:""};function nt({isDisabled:et=!1,onChatComplete:ei=UserPromptContainer_c,onError:eo=UserPromptContainer_c,messages:es=[],onSubmitPrompt:el=UserPromptContainer_c,onLiveBotResponseUpdated:ec=UserPromptContainer_c}){var ed;let ep=(0,eu.useRef)(null),eh=null==(ed=ep.current)?void 0:ed.querySelector("textarea"),{idField:eg="blockId",blockId:em,placeholder:ey,onEvent:eb,hideZapierButton:ev,isEmbedded:ew,isPopup:eS,pageId:eA,projectId:ex,renderPoweredByZapier:eE,userPromptSlot:ek,onChatError:eC}=useChatbotContext_C(),[e_,ej]=useChatCompletion_K(ec),{register:eO,handleSubmit:eT,reset:eN,resetField:eF,setFocus:eI,setValue:eP,formState:{isSubmitting:ez,isSubmitSuccessful:eU}}=(0,eD.cI)({defaultValues:eq}),[eB,eV]=(0,eu.useState)(""),z=et=>{var ei,eo;"Enter"!==et.key||et.shiftKey||(et.preventDefault(),null==(eo=null==(ei=ep.current)?void 0:ei.querySelector("button"))||eo.click())},eM=(0,eu.useCallback)(async et=>{if(""===et.content)return;eF("content"),eV(""),eb({interaction_goal:"send message in chatbot",interaction_raw_text:null,interfaces_component_type:"chatbot",event_action:"prompt",interfaces_project_id:ex,interfaces_page_id:eA,embedded_flag:ew}),el(et);let{status:ea,code:eu,predictionId:ed}=await e_({messages:es.concat(et),[eg]:em});if("error"===ea){eP("content",et.content),eV(eu);let ei={id:ed,role:"assistant",content:ej.current,message:ej.current,error:!0,errorCode:eu};eo(et,ei),eC(et,ei)}else ei(et,{id:ed,role:"assistant",content:ej.current}),ec("")},[eF,eb,ex,eA,ew,el,e_,es,eg,em,eP,ej,eo,eC,ei,ec]),eR=(0,eu.useCallback)(function(){eh&&(eh.focus(),eh.select())},[eh]);return(0,eu.useEffect)(()=>{eU&&(eB||eN(),eR())},[eB,eU,eN,eI,eR]),(0,ea.jsx)(ek,{hideZapierButton:ev,isDisabled:et,isPopup:eS,isSubmitting:ez,onEnter:z,onSubmit:eT(eM),placeholder:ey,placeholderWhenSubmitting:ef["Chatbot is responding..."],ref:ep,register:eO,renderPoweredByZapier:eE,sendButtonText:ef.Send})}function v(){let{defaultMessage:et,isStaticMode:ei,triggers:eo,badgeSlot:es,botActionsSlot:eu,botMessageSlot:el,botResponseSlot:ec,containerSlot:ed,messagesSlot:ep,userMessageSlot:eh,copyIconSlot:eg,runIconSlot:em}=useChatbotContext_C();return(0,ea.jsxs)(ed,{children:[(0,ea.jsxs)(ep,{children:[(0,ea.jsx)(el,{children:(0,ea.jsx)(ec,{children:ei?et:(0,ea.jsx)(es,{children:ef["Greeting generated from prompt"]})})}),eo.length>0?(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsx)(eh,{children:(0,ea.jsx)(es,{children:ef["Prompt input provided to the response above"]})}),(0,ea.jsxs)(el,{children:[(0,ea.jsx)(ec,{children:(0,ea.jsx)(es,{children:ef["Response generated to the prompt input above"]})}),eo.length>0&&(0,ea.jsx)(eu,{children:eo.map(et=>"copy"===et.onClick?(0,ea.jsxs)(CopyBotMessage_y,{message:{content:ef["This is a demo response"]},disabled:!0,children:[(0,ea.jsx)(eg,{}),et.buttonText]},et.id):(0,ea.jsxs)(RunZapBotMessage_s,{message:{content:ef["This is a demo response"]},disabled:!0,children:[(0,ea.jsx)(em,{}),et.buttonText]},et.id))})]})]}):null]}),(0,ea.jsx)(nt,{isDisabled:!0})]})}function types_e(et){return"user"!==et.role}let eW="Before attempting to respond, you have datasources you can query. When querying, you are ONLY allowed to respond from information provided by the query. You are NOT ALLOWED to introduce information that is not provided in the results. NEVER try and answer from information outside of the results. ",promptTemplates_o=et=>`If a query does not return sufficient results to answer a user's question, DO NOT APOLOGIZE, DO NOT ATTEMPT TO HELP FURTHER, AND DO NOT EXPLAIN. Respond with exactly the following message: '${et}'`,e$="If you do not get relevant results from a query, YOU ARE NOT ALLOWED TO TRY TO ANSWER FROM GENERAL KNOWLEDGE. Instead, simply respond with a message letting the user know that you do not have that information.",eH="WITHOUT EXCEPTION you MUST end your starting message with a prompt for the user to provide you with the information you need to run 'collectUserData'. YOU MUST end your opening message with a variation of 'before we continue, can I ask for your...', to get the information to run this function. Submit the function ONLY AFTER you have collected the info from the user.",eZ=(0,eu.memo)(function(){let{idField:et="blockId",blockId:ei,chatbotName:eo,chatbotSessionId:es,collectUserData:el,dataSources:ec,dataSourcesNoResultsMessage:ed,dataSourcesNoResultsMode:ep,defaultMessage:eh,defaultPrompt:eg,directive:em,onEvent:ey,isDisabled:eb=!1,isStaticMode:ev,triggerChatbotBlockAction:ew,triggers:eS,user:eA,containerSlot:ex,messagesSlot:eE,botActionsSlot:ek,botFeedbackSlot:eC,botMarkdownSlot:e_,botMessageSlot:ej,botResponseSlot:eO,userMessageSlot:eT,copyIconSlot:eN,runIconSlot:eF}=useChatbotContext_C(),[eI,eD]=(0,eu.useState)(""),[eP,ez]=(0,eu.useState)(!1),[eU,eB]=(0,eu.useState)([]),eV=(0,eu.useMemo)(()=>({isDisabled:eb,messages:eU,onChatComplete(et,ei){ez(!1),eB(et=>[...et,ei,{id:Date.now().toString(),role:"user",content:""}])},onError(et,ei){ez(!1),eB(et=>[...et.slice(0,-1),ei])},onLiveBotResponseUpdated(et){eD(et)},onSubmitPrompt(et){ez(!0),eB(ei=>[...ei.slice(0,-1),{...et,id:Date.now().toString()}])}}),[eb,eU]),[eM,eR]=(0,eu.useState)(!1),[eL,eq,eZ]=useChatCompletion_K();return(0,eu.useEffect)(()=>{let et=[{id:Date.now().toString(),role:"system",content:em,message:ev?eh:void 0,hidden:!ev||void 0}];if(ec.length>0){let ei=eW;"custom"===ep&&(ei+=promptTemplates_o(ed)),"chatgpt"===ep&&(ei+=e$),et.push({id:`${Date.now().toString()}-datasource`,role:"system",content:ei,hidden:!0})}el&&et.push({id:`${Date.now().toString()}-datacollection`,role:"system",content:eH,hidden:!0}),eB(ev?[...et,{id:`${Date.now().toString()}-static`,role:"user",content:""}]:[...et,{id:`${Date.now().toString()}-defaultPrompt`,role:"user",content:eg,hidden:!0},{id:`${Date.now().toString()}-generated`,role:"assistant",content:""}])},[el,ec.length,ed,ep,eh,eg,em,ev]),(0,eu.useEffect)(()=>{async function e(){if(!ei)throw Error("expected blockId");try{eR(!0);let{status:eo,predictionId:es}=await eL({messages:eU.map(et=>"function"===et.role?{role:et.role,name:et.name,content:et.content}:"user"!==et.role?{id:et.id,role:et.role,content:et.content?et.content:""}:{role:et.role,content:et.content?et.content:""}),[et]:ei});"complete"===eo?eB(et=>[...et.slice(0,-1),{id:es,role:"assistant",content:eq.current},{id:Date.now().toString(),role:"user",content:""}]):t()}catch(et){console.error(et),t()}finally{eR(!1)}function t(){eB([{id:`${Date.now().toString()}-fallback`,role:"system",content:em,message:eh},{id:Date.now().toString(),role:"user",content:""}])}}ev||2!==eU.filter(et=>"system"!==et.role).length||eM||e()},[eh,em,eM,ev,ei,eq,eL,eA,eU,eB,et]),(0,ea.jsxs)(ex,{children:[(0,ea.jsxs)(eE,{children:[eU.map((et,eu,el)=>{if(et.hidden)return null;if(types_e(et)){let ec=eu>(ev?1:3)&&"assistant"===et.role;if(eu===el.length-1&&!et.error)return(0,ea.jsx)(ej,{isLoading:!0,children:(0,ea.jsx)(eO,{children:eZ})},et.id);let ed=ec?el[eu-1].content:void 0;return(0,ea.jsxs)(ej,{isError:et.error,errorCode:et.errorCode,renderFeedback:ec?()=>(0,ea.jsx)(eC,{isSubmitting:eP,onFeedback:({rating:eo,comment:ea})=>{if(!ei)throw Error("expected blockId");return ey({prediction_id:et.id,correlation_id:es,user_rating:eo>0?"EXPLICIT_GOOD":"EXPLICIT_BAD",user_feedback:ea??null,corrected_prediction_json_output:null,release_id:null,zap_id:null}),ew({type:"ChatbotFeedback",blockId:ei,chatbotSessionId:es,values:{rating:eo,comment:ea,message:et.content,conversation:eU.slice(0,eu).map(et=>"function"===et.role?{role:et.role,content:et.content,name:et.name}:{role:et.role,content:et.content})}},ef["Thanks for the feedback!"])}}):void 0,children:[(0,ea.jsx)(eO,{"data-testid":"final-bot-response",children:et.content&&!et.message?(0,ea.jsx)(e_,{children:et.content}):et.message??et.content}),!et.error&&ec&&eS.length>0&&(0,ea.jsx)(ek,{children:eS.map(ei=>"copy"===ei.onClick?(0,ea.jsxs)(CopyBotMessage_y,{message:et,onClick:()=>{ew({type:"ChatbotButtonClick",blockActionId:ei.id,values:{response:et.content?et.content:"",chatbotName:eo,prompt:ed}},ei.notificationText)},disabled:eP,children:[(0,ea.jsx)(eN,{}),ei.buttonText]},ei.id):(0,ea.jsxs)(RunZapBotMessage_s,{message:et,onClick:()=>{ew({type:"ChatbotButtonClick",blockActionId:ei.id,values:{response:et.content?et.content:"",chatbotName:eo,prompt:ed}},ei.notificationText)},disabled:eP,children:[(0,ea.jsx)(eF,{}),ei.buttonText]},ei.id))})]},et.id)}return(0,ea.jsx)(eT,{children:et.content},et.id)}),eP&&(0,ea.jsx)(ej,{isLoading:!0,children:(0,ea.jsx)(eO,{children:(0,ea.jsx)(e_,{children:eI})})})]}),(0,ea.jsx)(nt,{...eV})]})});function ReadonlyChatbotPrompt_S({messages:et}){let{containerSlot:ei,messagesSlot:eo,botMarkdownSlot:es,botMessageSlot:eu,botResponseSlot:el,userMessageSlot:ec}=useChatbotContext_C();return(0,ea.jsx)(ei,{children:(0,ea.jsx)(eo,{children:et.map(et=>types_e(et)?(0,ea.jsx)(eu,{"data-role":et.role,feedback:et.feedback,children:(0,ea.jsx)(el,{children:(0,ea.jsx)(es,{children:et.content})})},et.id):(0,ea.jsx)(ec,{"data-role":"user",children:et.content},et.id))})})}let eG=(0,eu.memo)(function({messages:et,isReadOnly:ei,...eo}){let es=(0,eu.useRef)(!1),[el,ec]=(0,eu.useState)(!0),{fetcher:ed,apiEndpointMaintenance:ef}=(0,eu.useMemo)(()=>({fetcher:eo.fetcher,apiEndpointMaintenance:eo.apiEndpointMaintenance??"/api/chatbots/maintenance"}),[eo.apiEndpointMaintenance,eo.fetcher]),[ep,eh]=(0,eu.useState)(!1);(0,eu.useEffect)(()=>{es.current||(es.current=!0,ed(ef).then(et=>et.json()).then(et=>{"object"==typeof et&&null!==et&&"maintenanceMode"in et&&"boolean"==typeof et.maintenanceMode&&eh(et.maintenanceMode)}).catch(et=>{console.warn("Unable to fetch Chatbots maintenance mode",et)}).finally(()=>{ec(!1)}))},[ef,ed]);let eg=eo.isEditing?v:eZ;return el?(0,ea.jsx)(eo.spinnerSlot,{}):ep?(0,ea.jsx)(eo.maintenanceSlot,{...eo.theme}):ei?(0,ea.jsx)(ChatbotContextProvider_C,{...eo,children:(0,ea.jsx)(ReadonlyChatbotPrompt_S,{messages:et})}):(0,ea.jsx)(ChatbotContextProvider_C,{...eo,children:(0,ea.jsx)(eg,{})})})},57203:function(et,ei,eo){"use strict";eo.d(ei,{Dq:function(){return useFieldArray},Gc:function(){return useFormContext},KN:function(){return appendErrors},Qr:function(){return Controller},RV:function(){return FormProvider},U2:function(){return get},bc:function(){return useController},cI:function(){return useForm},t8:function(){return set}});var es=eo(52983),isCheckBoxInput=et=>"checkbox"===et.type,isDateObject=et=>et instanceof Date,isNullOrUndefined=et=>null==et;let isObjectType=et=>"object"==typeof et;var isObject=et=>!isNullOrUndefined(et)&&!Array.isArray(et)&&isObjectType(et)&&!isDateObject(et),getEventValue=et=>isObject(et)&&et.target?isCheckBoxInput(et.target)?et.target.checked:et.target.value:et,getNodeParentName=et=>et.substring(0,et.search(/\.\d+(\.|$)/))||et,isNameInFieldArray=(et,ei)=>et.has(getNodeParentName(ei)),compact=et=>Array.isArray(et)?et.filter(Boolean):[],isUndefined=et=>void 0===et,get=(et,ei,eo)=>{if(!ei||!isObject(et))return eo;let es=compact(ei.split(/[,[\].]+?/)).reduce((et,ei)=>isNullOrUndefined(et)?et:et[ei],et);return isUndefined(es)||es===et?isUndefined(et[ei])?eo:et[ei]:es};let ea={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},eu={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},el={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ec=es.createContext(null),useFormContext=()=>es.useContext(ec),FormProvider=et=>{let{children:ei,...eo}=et;return es.createElement(ec.Provider,{value:eo},ei)};var getProxyFormState=(et,ei,eo,es=!0)=>{let ea={};for(let el in et)Object.defineProperty(ea,el,{get:()=>{let ea=el;return ei[ea]!==eu.all&&(ei[ea]=!es||eu.all),eo&&(eo[ea]=!0),et[ea]}});return ea},isEmptyObject=et=>isObject(et)&&!Object.keys(et).length,shouldRenderFormState=(et,ei,eo)=>{let{name:es,...ea}=et;return isEmptyObject(ea)||Object.keys(ea).length>=Object.keys(ei).length||Object.keys(ea).find(et=>ei[et]===(!eo||eu.all))},convertToArrayPayload=et=>Array.isArray(et)?et:[et],shouldSubscribeByName=(et,ei,eo)=>eo&&ei?et===ei:!et||!ei||et===ei||convertToArrayPayload(et).some(et=>et&&(et.startsWith(ei)||ei.startsWith(et)));function useSubscribe(et){let ei=es.useRef(et);ei.current=et,es.useEffect(()=>{let tearDown=et=>{et&&et.unsubscribe()},eo=!et.disabled&&ei.current.subject.subscribe({next:ei.current.callback});return()=>tearDown(eo)},[et.disabled])}function useFormState(et){let ei=useFormContext(),{control:eo=ei.control,disabled:ea,name:eu,exact:el}=et||{},[ec,ed]=es.useState(eo._formState),ef=es.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),ep=es.useRef(eu),eh=es.useRef(!0);ep.current=eu;let eg=es.useCallback(et=>eh.current&&shouldSubscribeByName(ep.current,et.name,el)&&shouldRenderFormState(et,ef.current)&&ed({...eo._formState,...et}),[eo,el]);return useSubscribe({disabled:ea,callback:eg,subject:eo._subjects.state}),es.useEffect(()=>(eh.current=!0,()=>{eh.current=!1}),[]),getProxyFormState(ec,eo._proxyFormState,ef.current,!1)}var isString=et=>"string"==typeof et,generateWatchOutput=(et,ei,eo,es)=>{let ea=Array.isArray(et);return isString(et)?(es&&ei.watch.add(et),get(eo,et)):ea?et.map(et=>(es&&ei.watch.add(et),get(eo,et))):(es&&(ei.watchAll=!0),eo)},isFunction=et=>"function"==typeof et,objectHasFunction=et=>{for(let ei in et)if(isFunction(et[ei]))return!0;return!1};function useWatch(et){let ei=useFormContext(),{control:eo=ei.control,name:ea,defaultValue:eu,disabled:el,exact:ec}=et||{},ed=es.useRef(ea);ed.current=ea;let ef=es.useCallback(et=>{if(shouldSubscribeByName(ed.current,et.name,ec)){let ei=generateWatchOutput(ed.current,eo._names,et.values||eo._formValues);eh(isUndefined(ed.current)||isObject(ei)&&!objectHasFunction(ei)?{...ei}:Array.isArray(ei)?[...ei]:isUndefined(ei)?eu:ei)}},[eo,ec,eu]);useSubscribe({disabled:el,subject:eo._subjects.watch,callback:ef});let[ep,eh]=es.useState(isUndefined(eu)?eo._getWatch(ea):eu);return es.useEffect(()=>{eo._removeUnmounted()}),ep}function useController(et){let ei=useFormContext(),{name:eo,control:eu=ei.control,shouldUnregister:el}=et,ec=isNameInFieldArray(eu._names.array,eo),ed=useWatch({control:eu,name:eo,defaultValue:get(eu._formValues,eo,get(eu._defaultValues,eo,et.defaultValue)),exact:!0}),ef=useFormState({control:eu,name:eo}),ep=es.useRef(eu.register(eo,{...et.rules,value:ed}));return es.useEffect(()=>{let updateMounted=(et,ei)=>{let eo=get(eu._fields,et);eo&&(eo._f.mount=ei)};return updateMounted(eo,!0),()=>{let et=eu._options.shouldUnregister||el;(ec?et&&!eu._stateFlags.action:et)?eu.unregister(eo):updateMounted(eo,!1)}},[eo,eu,ec,el]),{field:{name:eo,value:ed,onChange:es.useCallback(et=>{ep.current.onChange({target:{value:getEventValue(et),name:eo},type:ea.CHANGE})},[eo]),onBlur:es.useCallback(()=>{ep.current.onBlur({target:{value:get(eu._formValues,eo),name:eo},type:ea.BLUR})},[eo,eu]),ref:es.useCallback(et=>{let ei=get(eu._fields,eo);et&&ei&&et.focus&&(ei._f.ref={focus:()=>et.focus(),select:()=>et.select(),setCustomValidity:ei=>et.setCustomValidity(ei),reportValidity:()=>et.reportValidity()})},[eo,eu._fields])},formState:ef,fieldState:Object.defineProperties({},{invalid:{get:()=>!!get(ef.errors,eo)},isDirty:{get:()=>!!get(ef.dirtyFields,eo)},isTouched:{get:()=>!!get(ef.touchedFields,eo)},error:{get:()=>get(ef.errors,eo)}})}}let Controller=et=>et.render(useController(et));var appendErrors=(et,ei,eo,es,ea)=>ei?{...eo[et],types:{...eo[et]&&eo[et].types?eo[et].types:{},[es]:ea||!0}}:{},isKey=et=>/^\w*$/.test(et),stringToPath=et=>compact(et.replace(/["|']|\]/g,"").split(/\.|\[/));function set(et,ei,eo){let es=-1,ea=isKey(ei)?[ei]:stringToPath(ei),eu=ea.length,el=eu-1;for(;++es<eu;){let ei=ea[es],eu=eo;if(es!==el){let eo=et[ei];eu=isObject(eo)||Array.isArray(eo)?eo:isNaN(+ea[es+1])?{}:[]}et[ei]=eu,et=et[ei]}return et}let focusFieldBy=(et,ei,eo)=>{for(let es of eo||Object.keys(et)){let eo=get(et,es);if(eo){let{_f:et,...es}=eo;if(et&&ei(et.name)){if(et.ref.focus&&isUndefined(et.ref.focus()))break;if(et.refs){et.refs[0].focus();break}}else isObject(es)&&focusFieldBy(es,ei)}}};var generateId=()=>{let et="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,ei=>{let eo=(16*Math.random()+et)%16|0;return("x"==ei?eo:3&eo|8).toString(16)})},getFocusFieldName=(et,ei,eo={})=>eo.shouldFocus||isUndefined(eo.shouldFocus)?eo.focusName||`${et}.${isUndefined(eo.focusIndex)?ei:eo.focusIndex}.`:"",isWatched=(et,ei,eo)=>!eo&&(ei.watchAll||ei.watch.has(et)||[...ei.watch].some(ei=>et.startsWith(ei)&&/^\.\w+/.test(et.slice(ei.length))));function append(et,ei){return[...et,...convertToArrayPayload(ei)]}var ed="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function cloneObject(et){let ei;let eo=Array.isArray(et);if(et instanceof Date)ei=new Date(et);else if(et instanceof Set)ei=new Set(et);else if(!(!(ed&&(et instanceof Blob||et instanceof FileList))&&(eo||isObject(et))))return et;else for(let es in ei=eo?[]:{},et){if(isFunction(et[es])){ei=et;break}ei[es]=cloneObject(et[es])}return ei}var fillEmptyArray=et=>Array.isArray(et)?et.map(()=>void 0):void 0;function insert(et,ei,eo){return[...et.slice(0,ei),...convertToArrayPayload(eo),...et.slice(ei)]}var moveArrayAt=(et,ei,eo)=>Array.isArray(et)?(isUndefined(et[eo])&&(et[eo]=void 0),et.splice(eo,0,et.splice(ei,1)[0]),et):[];function prepend(et,ei){return[...convertToArrayPayload(ei),...convertToArrayPayload(et)]}function removeAtIndexes(et,ei){let eo=0,es=[...et];for(let et of ei)es.splice(et-eo,1),eo++;return compact(es).length?es:[]}var removeArrayAt=(et,ei)=>isUndefined(ei)?[]:removeAtIndexes(et,convertToArrayPayload(ei).sort((et,ei)=>et-ei)),swapArrayAt=(et,ei,eo)=>{et[ei]=[et[eo],et[eo]=et[ei]][0]};function baseGet(et,ei){let eo=ei.slice(0,-1).length,es=0;for(;es<eo;)et=isUndefined(et)?es++:et[ei[es++]];return et}function unset(et,ei){let eo;let es=isKey(ei)?[ei]:stringToPath(ei),ea=1==es.length?et:baseGet(et,es),eu=es[es.length-1];ea&&delete ea[eu];for(let ei=0;ei<es.slice(0,-1).length;ei++){let ea,eu=-1,el=es.slice(0,-(ei+1)),ec=el.length-1;for(ei>0&&(eo=et);++eu<el.length;){let ei=el[eu];ea=ea?ea[ei]:et[ei],ec===eu&&(isObject(ea)&&isEmptyObject(ea)||Array.isArray(ea)&&!ea.filter(et=>!isUndefined(et)).length)&&(eo?delete eo[ei]:delete et[ei]),eo=ea}}return et}var updateAt=(et,ei,eo)=>(et[ei]=eo,et);function useFieldArray(et){let ei=useFormContext(),{control:eo=ei.control,name:ea,keyName:eu="id",shouldUnregister:el}=et,[ec,ed]=es.useState(eo._getFieldArray(ea)),ef=es.useRef(eo._getFieldArray(ea).map(generateId)),ep=es.useRef(ec),eh=es.useRef(ea),eg=es.useRef(!1);eh.current=ea,ep.current=ec,eo._names.array.add(ea);let em=es.useCallback(({values:et,name:ei})=>{if(ei===eh.current||!ei){let ei=get(et,eh.current,[]);ed(ei),ef.current=ei.map(generateId)}},[]);useSubscribe({callback:em,subject:eo._subjects.array});let ey=es.useCallback(et=>{eg.current=!0,eo._updateFieldArray(ea,et)},[eo,ea]),append$1=(et,ei)=>{let es=convertToArrayPayload(cloneObject(et)),eu=append(eo._getFieldArray(ea),es);eo._names.focus=getFocusFieldName(ea,eu.length-1,ei),ef.current=append(ef.current,es.map(generateId)),ey(eu),ed(eu),eo._updateFieldArray(ea,eu,append,{argA:fillEmptyArray(et)})},prepend$1=(et,ei)=>{let es=convertToArrayPayload(cloneObject(et)),eu=prepend(eo._getFieldArray(ea),es);eo._names.focus=getFocusFieldName(ea,0,ei),ef.current=prepend(ef.current,es.map(generateId)),ey(eu),ed(eu),eo._updateFieldArray(ea,eu,prepend,{argA:fillEmptyArray(et)})},remove=et=>{let ei=removeArrayAt(eo._getFieldArray(ea),et);ef.current=removeArrayAt(ef.current,et),ey(ei),ed(ei),eo._updateFieldArray(ea,ei,removeArrayAt,{argA:et})},insert$1=(et,ei,es)=>{let eu=convertToArrayPayload(cloneObject(ei)),el=insert(eo._getFieldArray(ea),et,eu);eo._names.focus=getFocusFieldName(ea,et,es),ef.current=insert(ef.current,et,eu.map(generateId)),ey(el),ed(el),eo._updateFieldArray(ea,el,insert,{argA:et,argB:fillEmptyArray(ei)})},swap=(et,ei)=>{let es=eo._getFieldArray(ea);swapArrayAt(es,et,ei),swapArrayAt(ef.current,et,ei),ey(es),ed(es),eo._updateFieldArray(ea,es,swapArrayAt,{argA:et,argB:ei},!1)},move=(et,ei)=>{let es=eo._getFieldArray(ea);moveArrayAt(es,et,ei),moveArrayAt(ef.current,et,ei),ey(es),ed(es),eo._updateFieldArray(ea,es,moveArrayAt,{argA:et,argB:ei},!1)},update=(et,ei)=>{let es=cloneObject(ei),eu=updateAt(eo._getFieldArray(ea),et,es);ef.current=[...eu].map((ei,eo)=>ei&&eo!==et?ef.current[eo]:generateId()),ey(eu),ed([...eu]),eo._updateFieldArray(ea,eu,updateAt,{argA:et,argB:es},!0,!1)},replace=et=>{let ei=convertToArrayPayload(cloneObject(et));ef.current=ei.map(generateId),ey([...ei]),ed([...ei]),eo._updateFieldArray(ea,[...ei],et=>et,{},!0,!1)};return es.useEffect(()=>{eo._stateFlags.action=!1,isWatched(ea,eo._names)&&eo._subjects.state.next({}),eg.current&&eo._executeSchema([ea]).then(et=>{let ei=get(et.errors,ea),es=get(eo._formState.errors,ea);(es?!ei&&es.type:ei&&ei.type)&&(ei?set(eo._formState.errors,ea,ei):unset(eo._formState.errors,ea),eo._subjects.state.next({errors:eo._formState.errors}))}),eo._subjects.watch.next({name:ea,values:eo._formValues}),eo._names.focus&&focusFieldBy(eo._fields,et=>et.startsWith(eo._names.focus)),eo._names.focus="",eo._proxyFormState.isValid&&eo._updateValid()},[ec,ea,eo]),es.useEffect(()=>(get(eo._formValues,ea)||eo._updateFieldArray(ea),()=>{(eo._options.shouldUnregister||el)&&eo.unregister(ea)}),[ea,eo,eu,el]),{swap:es.useCallback(swap,[ey,ea,eo]),move:es.useCallback(move,[ey,ea,eo]),prepend:es.useCallback(prepend$1,[ey,ea,eo]),append:es.useCallback(append$1,[ey,ea,eo]),remove:es.useCallback(remove,[ey,ea,eo]),insert:es.useCallback(insert$1,[ey,ea,eo]),update:es.useCallback(update,[ey,ea,eo]),replace:es.useCallback(replace,[ey,ea,eo]),fields:es.useMemo(()=>ec.map((et,ei)=>({...et,[eu]:ef.current[ei]||generateId()})),[ec,eu])}}function createSubject(){let et=[],next=ei=>{for(let eo of et)eo.next(ei)},subscribe=ei=>(et.push(ei),{unsubscribe:()=>{et=et.filter(et=>et!==ei)}}),unsubscribe=()=>{et=[]};return{get observers(){return et},next,subscribe,unsubscribe}}var isPrimitive=et=>isNullOrUndefined(et)||!isObjectType(et);function deepEqual(et,ei){if(isPrimitive(et)||isPrimitive(ei))return et===ei;if(isDateObject(et)&&isDateObject(ei))return et.getTime()===ei.getTime();let eo=Object.keys(et),es=Object.keys(ei);if(eo.length!==es.length)return!1;for(let ea of eo){let eo=et[ea];if(!es.includes(ea))return!1;if("ref"!==ea){let et=ei[ea];if(isDateObject(eo)&&isDateObject(et)||isObject(eo)&&isObject(et)||Array.isArray(eo)&&Array.isArray(et)?!deepEqual(eo,et):eo!==et)return!1}}return!0}var getValidationModes=et=>({isOnSubmit:!et||et===eu.onSubmit,isOnBlur:et===eu.onBlur,isOnChange:et===eu.onChange,isOnAll:et===eu.all,isOnTouch:et===eu.onTouched}),isBoolean=et=>"boolean"==typeof et,isFileInput=et=>"file"===et.type,isHTMLElement=et=>{let ei=et?et.ownerDocument:0,eo=ei&&ei.defaultView?ei.defaultView.HTMLElement:HTMLElement;return et instanceof eo},isMultipleSelect=et=>"select-multiple"===et.type,isRadioInput=et=>"radio"===et.type,isRadioOrCheckbox=et=>isRadioInput(et)||isCheckBoxInput(et),live=et=>isHTMLElement(et)&&et.isConnected;function markFieldsDirty(et,ei={}){let eo=Array.isArray(et);if(isObject(et)||eo)for(let eo in et)Array.isArray(et[eo])||isObject(et[eo])&&!objectHasFunction(et[eo])?(ei[eo]=Array.isArray(et[eo])?[]:{},markFieldsDirty(et[eo],ei[eo])):isNullOrUndefined(et[eo])||(ei[eo]=!0);return ei}function getDirtyFieldsFromDefaultValues(et,ei,eo){let es=Array.isArray(et);if(isObject(et)||es)for(let es in et)Array.isArray(et[es])||isObject(et[es])&&!objectHasFunction(et[es])?isUndefined(ei)||isPrimitive(eo[es])?eo[es]=Array.isArray(et[es])?markFieldsDirty(et[es],[]):{...markFieldsDirty(et[es])}:getDirtyFieldsFromDefaultValues(et[es],isNullOrUndefined(ei)?{}:ei[es],eo[es]):eo[es]=!deepEqual(et[es],ei[es]);return eo}var getDirtyFields=(et,ei)=>getDirtyFieldsFromDefaultValues(et,ei,markFieldsDirty(ei));let ef={value:!1,isValid:!1},ep={value:!0,isValid:!0};var getCheckboxValue=et=>{if(Array.isArray(et)){if(et.length>1){let ei=et.filter(et=>et&&et.checked&&!et.disabled).map(et=>et.value);return{value:ei,isValid:!!ei.length}}return et[0].checked&&!et[0].disabled?et[0].attributes&&!isUndefined(et[0].attributes.value)?isUndefined(et[0].value)||""===et[0].value?ep:{value:et[0].value,isValid:!0}:ep:ef}return ef},getFieldValueAs=(et,{valueAsNumber:ei,valueAsDate:eo,setValueAs:es})=>isUndefined(et)?et:ei?""===et||isNullOrUndefined(et)?NaN:+et:eo&&isString(et)?new Date(et):es?es(et):et;let eh={isValid:!1,value:null};var getRadioValue=et=>Array.isArray(et)?et.reduce((et,ei)=>ei&&ei.checked&&!ei.disabled?{isValid:!0,value:ei.value}:et,eh):eh;function getFieldValue(et){let ei=et.ref;return(et.refs?et.refs.every(et=>et.disabled):ei.disabled)?void 0:isFileInput(ei)?ei.files:isRadioInput(ei)?getRadioValue(et.refs).value:isMultipleSelect(ei)?[...ei.selectedOptions].map(({value:et})=>et):isCheckBoxInput(ei)?getCheckboxValue(et.refs).value:getFieldValueAs(isUndefined(ei.value)?et.ref.value:ei.value,et)}var getResolverOptions=(et,ei,eo,es)=>{let ea={};for(let eo of et){let et=get(ei,eo);et&&set(ea,eo,et._f)}return{criteriaMode:eo,names:[...et],fields:ea,shouldUseNativeValidation:es}},isRegex=et=>et instanceof RegExp,getRuleValue=et=>isUndefined(et)?void 0:isRegex(et)?et.source:isObject(et)?isRegex(et.value)?et.value.source:et.value:et,hasValidation=et=>et.mount&&(et.required||et.min||et.max||et.maxLength||et.minLength||et.pattern||et.validate);function schemaErrorLookup(et,ei,eo){let es=get(et,eo);if(es||isKey(eo))return{error:es,name:eo};let ea=eo.split(".");for(;ea.length;){let es=ea.join("."),eu=get(ei,es),el=get(et,es);if(eu&&!Array.isArray(eu)&&eo!==es)break;if(el&&el.type)return{name:es,error:el};ea.pop()}return{name:eo}}var skipValidation=(et,ei,eo,es,ea)=>!ea.isOnAll&&(!eo&&ea.isOnTouch?!(ei||et):(eo?es.isOnBlur:ea.isOnBlur)?!et:(eo?!es.isOnChange:!ea.isOnChange)||et),unsetEmptyArray=(et,ei)=>!compact(get(et,ei)).length&&unset(et,ei),isMessage=et=>isString(et)||es.isValidElement(et);function getValidateError(et,ei,eo="validate"){if(isMessage(et)||Array.isArray(et)&&et.every(isMessage)||isBoolean(et)&&!et)return{type:eo,message:isMessage(et)?et:"",ref:ei}}var getValueAndMessage=et=>isObject(et)&&!isRegex(et)?et:{value:et,message:""},validateField=async(et,ei,eo,es)=>{let{ref:ea,refs:eu,required:ec,maxLength:ed,minLength:ef,min:ep,max:eh,pattern:eg,validate:em,name:ey,valueAsNumber:eb,mount:ev,disabled:ew}=et._f;if(!ev||ew)return{};let eS=eu?eu[0]:ea,setCustomValidity=et=>{es&&eS.reportValidity&&(eS.setCustomValidity(isBoolean(et)?"":et||" "),eS.reportValidity())},eA={},ex=isRadioInput(ea),eE=isCheckBoxInput(ea),ek=ex||eE,eC=(eb||isFileInput(ea))&&!ea.value||""===ei||Array.isArray(ei)&&!ei.length,e_=appendErrors.bind(null,ey,eo,eA),getMinMaxMessage=(et,ei,eo,es=el.maxLength,eu=el.minLength)=>{let ec=et?ei:eo;eA[ey]={type:et?es:eu,message:ec,ref:ea,...e_(et?es:eu,ec)}};if(ec&&(!ek&&(eC||isNullOrUndefined(ei))||isBoolean(ei)&&!ei||eE&&!getCheckboxValue(eu).isValid||ex&&!getRadioValue(eu).isValid)){let{value:et,message:ei}=isMessage(ec)?{value:!!ec,message:ec}:getValueAndMessage(ec);if(et&&(eA[ey]={type:el.required,message:ei,ref:eS,...e_(el.required,ei)},!eo))return setCustomValidity(ei),eA}if(!eC&&(!isNullOrUndefined(ep)||!isNullOrUndefined(eh))){let et,es;let eu=getValueAndMessage(eh),ec=getValueAndMessage(ep);if(isNullOrUndefined(ei)||isNaN(ei)){let eo=ea.valueAsDate||new Date(ei);isString(eu.value)&&(et=eo>new Date(eu.value)),isString(ec.value)&&(es=eo<new Date(ec.value))}else{let eo=ea.valueAsNumber||+ei;isNullOrUndefined(eu.value)||(et=eo>eu.value),isNullOrUndefined(ec.value)||(es=eo<ec.value)}if((et||es)&&(getMinMaxMessage(!!et,eu.message,ec.message,el.max,el.min),!eo))return setCustomValidity(eA[ey].message),eA}if((ed||ef)&&!eC&&isString(ei)){let et=getValueAndMessage(ed),es=getValueAndMessage(ef),ea=!isNullOrUndefined(et.value)&&ei.length>et.value,eu=!isNullOrUndefined(es.value)&&ei.length<es.value;if((ea||eu)&&(getMinMaxMessage(ea,et.message,es.message),!eo))return setCustomValidity(eA[ey].message),eA}if(eg&&!eC&&isString(ei)){let{value:et,message:es}=getValueAndMessage(eg);if(isRegex(et)&&!ei.match(et)&&(eA[ey]={type:el.pattern,message:es,ref:ea,...e_(el.pattern,es)},!eo))return setCustomValidity(es),eA}if(em){if(isFunction(em)){let et=await em(ei),es=getValidateError(et,eS);if(es&&(eA[ey]={...es,...e_(el.validate,es.message)},!eo))return setCustomValidity(es.message),eA}else if(isObject(em)){let et={};for(let es in em){if(!isEmptyObject(et)&&!eo)break;let ea=getValidateError(await em[es](ei),eS,es);ea&&(et={...ea,...e_(es,ea.message)},setCustomValidity(ea.message),eo&&(eA[ey]=et))}if(!isEmptyObject(et)&&(eA[ey]={ref:eS,...et},!eo))return eA}}return setCustomValidity(!0),eA};let eg={mode:eu.onSubmit,reValidateMode:eu.onChange,shouldFocusError:!0};function createFormControl(et={}){let ei,eo={...eg,...et},es={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},el={},ec=cloneObject(eo.defaultValues)||{},ef=eo.shouldUnregister?{}:cloneObject(ec),ep={action:!1,mount:!1,watch:!1},eh={mount:new Set,unMount:new Set,array:new Set,watch:new Set},em=0,ey={},eb={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},ev={watch:createSubject(),array:createSubject(),state:createSubject()},ew=getValidationModes(eo.mode),eS=getValidationModes(eo.reValidateMode),eA=eo.criteriaMode===eu.all,debounce=et=>ei=>{clearTimeout(em),em=window.setTimeout(et,ei)},_updateValid=async et=>{let ei=!1;return eb.isValid&&(ei=eo.resolver?isEmptyObject((await _executeSchema()).errors):await executeBuildInValidation(el,!0),et||ei===es.isValid||(es.isValid=ei,ev.state.next({isValid:ei}))),ei},_updateFieldArray=(et,ei=[],eo,ea,eu=!0,ed=!0)=>{if(ea&&eo){if(ep.action=!0,ed&&Array.isArray(get(el,et))){let ei=eo(get(el,et),ea.argA,ea.argB);eu&&set(el,et,ei)}if(eb.errors&&ed&&Array.isArray(get(es.errors,et))){let ei=eo(get(es.errors,et),ea.argA,ea.argB);eu&&set(es.errors,et,ei),unsetEmptyArray(es.errors,et)}if(eb.touchedFields&&ed&&Array.isArray(get(es.touchedFields,et))){let ei=eo(get(es.touchedFields,et),ea.argA,ea.argB);eu&&set(es.touchedFields,et,ei)}eb.dirtyFields&&(es.dirtyFields=getDirtyFields(ec,ef)),ev.state.next({isDirty:_getDirty(et,ei),dirtyFields:es.dirtyFields,errors:es.errors,isValid:es.isValid})}else set(ef,et,ei)},updateErrors=(et,ei)=>{set(es.errors,et,ei),ev.state.next({errors:es.errors})},updateValidAndValue=(et,ei,eo,es)=>{let ea=get(el,et);if(ea){let eu=get(ef,et,isUndefined(eo)?get(ec,et):eo);isUndefined(eu)||es&&es.defaultChecked||ei?set(ef,et,ei?eu:getFieldValue(ea._f)):setFieldValue(et,eu),ep.mount&&_updateValid()}},updateTouchAndDirty=(et,ei,eo,ea,eu)=>{let el=!1,ed={name:et},ef=get(es.touchedFields,et);if(eb.isDirty){let et=es.isDirty;es.isDirty=ed.isDirty=_getDirty(),el=et!==ed.isDirty}if(eb.dirtyFields&&(!eo||ea)){let eo=get(es.dirtyFields,et),ea=deepEqual(get(ec,et),ei);ea?unset(es.dirtyFields,et):set(es.dirtyFields,et,!0),ed.dirtyFields=es.dirtyFields,el=el||eo!==get(es.dirtyFields,et)}return eo&&!ef&&(set(es.touchedFields,et,eo),ed.touchedFields=es.touchedFields,el=el||eb.touchedFields&&ef!==eo),el&&eu&&ev.state.next(ed),el?ed:{}},shouldRenderByError=async(eo,ea,eu,el)=>{let ec=get(es.errors,eo),ed=eb.isValid&&es.isValid!==ea;if(et.delayError&&eu?(ei=debounce(()=>updateErrors(eo,eu)))(et.delayError):(clearTimeout(em),ei=null,eu?set(es.errors,eo,eu):unset(es.errors,eo)),(eu?!deepEqual(ec,eu):ec)||!isEmptyObject(el)||ed){let et={...el,...ed?{isValid:ea}:{},errors:es.errors,name:eo};es={...es,...et},ev.state.next(et)}ey[eo]--,eb.isValidating&&!Object.values(ey).some(et=>et)&&(ev.state.next({isValidating:!1}),ey={})},_executeSchema=async et=>eo.resolver?await eo.resolver({...ef},eo.context,getResolverOptions(et||eh.mount,el,eo.criteriaMode,eo.shouldUseNativeValidation)):{},executeSchemaAndUpdateState=async et=>{let{errors:ei}=await _executeSchema();if(et)for(let eo of et){let et=get(ei,eo);et?set(es.errors,eo,et):unset(es.errors,eo)}else es.errors=ei;return ei},executeBuildInValidation=async(et,ei,ea={valid:!0})=>{for(let eu in et){let el=et[eu];if(el){let{_f:et,...eu}=el;if(et){let eu=await validateField(el,get(ef,et.name),eA,eo.shouldUseNativeValidation);if(eu[et.name]&&(ea.valid=!1,ei))break;ei||(eu[et.name]?set(es.errors,et.name,eu[et.name]):unset(es.errors,et.name))}eu&&await executeBuildInValidation(eu,ei,ea)}}return ea.valid},_removeUnmounted=()=>{for(let et of eh.unMount){let ei=get(el,et);ei&&(ei._f.refs?ei._f.refs.every(et=>!live(et)):!live(ei._f.ref))&&unregister(et)}eh.unMount=new Set},_getDirty=(et,ei)=>(et&&ei&&set(ef,et,ei),!deepEqual(getValues(),ec)),_getWatch=(et,ei,eo)=>{let es={...ep.mount?ef:isUndefined(ei)?ec:isString(et)?{[et]:ei}:ei};return generateWatchOutput(et,eh,es,eo)},_getFieldArray=ei=>compact(get(ep.mount?ef:ec,ei,et.shouldUnregister?get(ec,ei,[]):[])),setFieldValue=(et,ei,eo={})=>{let es=get(el,et),ea=ei;if(es){let eo=es._f;eo&&(eo.disabled||set(ef,et,getFieldValueAs(ei,eo)),ea=ed&&isHTMLElement(eo.ref)&&isNullOrUndefined(ei)?"":ei,isMultipleSelect(eo.ref)?[...eo.ref.options].forEach(et=>et.selected=ea.includes(et.value)):eo.refs?isCheckBoxInput(eo.ref)?eo.refs.length>1?eo.refs.forEach(et=>!et.disabled&&(et.checked=Array.isArray(ea)?!!ea.find(ei=>ei===et.value):ea===et.value)):eo.refs[0]&&(eo.refs[0].checked=!!ea):eo.refs.forEach(et=>et.checked=et.value===ea):isFileInput(eo.ref)?eo.ref.value="":(eo.ref.value=ea,eo.ref.type||ev.watch.next({name:et})))}(eo.shouldDirty||eo.shouldTouch)&&updateTouchAndDirty(et,ea,eo.shouldTouch,eo.shouldDirty,!0),eo.shouldValidate&&trigger(et)},setValues=(et,ei,eo)=>{for(let es in ei){let ea=ei[es],eu=`${et}.${es}`,ec=get(el,eu);!eh.array.has(et)&&isPrimitive(ea)&&(!ec||ec._f)||isDateObject(ea)?setFieldValue(eu,ea,eo):setValues(eu,ea,eo)}},setValue=(et,ei,eo={})=>{let ea=get(el,et),eu=eh.array.has(et),ed=cloneObject(ei);set(ef,et,ed),eu?(ev.array.next({name:et,values:ef}),(eb.isDirty||eb.dirtyFields)&&eo.shouldDirty&&(es.dirtyFields=getDirtyFields(ec,ef),ev.state.next({name:et,dirtyFields:es.dirtyFields,isDirty:_getDirty(et,ed)}))):!ea||ea._f||isNullOrUndefined(ed)?setFieldValue(et,ed,eo):setValues(et,ed,eo),isWatched(et,eh)&&ev.state.next({}),ev.watch.next({name:et})},onChange=async et=>{let eu=et.target,ec=eu.name,ed=get(el,ec);if(ed){let ep,eg;let em=eu.type?getFieldValue(ed._f):getEventValue(et),eb=et.type===ea.BLUR||et.type===ea.FOCUS_OUT,ex=!hasValidation(ed._f)&&!eo.resolver&&!get(es.errors,ec)&&!ed._f.deps||skipValidation(eb,get(es.touchedFields,ec),es.isSubmitted,eS,ew),eE=isWatched(ec,eh,eb);set(ef,ec,em),eb?(ed._f.onBlur&&ed._f.onBlur(et),ei&&ei(0)):ed._f.onChange&&ed._f.onChange(et);let ek=updateTouchAndDirty(ec,em,eb,!1),eC=!isEmptyObject(ek)||eE;if(eb||ev.watch.next({name:ec,type:et.type}),ex)return eC&&ev.state.next({name:ec,...eE?{}:ek});if(!eb&&eE&&ev.state.next({}),ey[ec]=(ey[ec],1),ev.state.next({isValidating:!0}),eo.resolver){let{errors:et}=await _executeSchema([ec]),ei=schemaErrorLookup(es.errors,el,ec),eo=schemaErrorLookup(et,el,ei.name||ec);ep=eo.error,ec=eo.name,eg=isEmptyObject(et)}else ep=(await validateField(ed,get(ef,ec),eA,eo.shouldUseNativeValidation))[ec],eg=await _updateValid(!0);ed._f.deps&&trigger(ed._f.deps),shouldRenderByError(ec,eg,ep,ek)}},trigger=async(et,ei={})=>{let ea,eu;let ec=convertToArrayPayload(et);if(ev.state.next({isValidating:!0}),eo.resolver){let ei=await executeSchemaAndUpdateState(isUndefined(et)?et:ec);ea=isEmptyObject(ei),eu=et?!ec.some(et=>get(ei,et)):ea}else et?((eu=(await Promise.all(ec.map(async et=>{let ei=get(el,et);return await executeBuildInValidation(ei&&ei._f?{[et]:ei}:ei)}))).every(Boolean))||es.isValid)&&_updateValid():eu=ea=await executeBuildInValidation(el);return ev.state.next({...!isString(et)||eb.isValid&&ea!==es.isValid?{}:{name:et},...eo.resolver?{isValid:ea}:{},errors:es.errors,isValidating:!1}),ei.shouldFocus&&!eu&&focusFieldBy(el,et=>get(es.errors,et),et?ec:eh.mount),eu},getValues=et=>{let ei={...ec,...ep.mount?ef:{}};return isUndefined(et)?ei:isString(et)?get(ei,et):et.map(et=>get(ei,et))},getFieldState=(et,ei)=>({invalid:!!get((ei||es).errors,et),isDirty:!!get((ei||es).dirtyFields,et),isTouched:!!get((ei||es).touchedFields,et),error:get((ei||es).errors,et)}),clearErrors=et=>{et?convertToArrayPayload(et).forEach(et=>unset(es.errors,et)):es.errors={},ev.state.next({errors:es.errors})},setError=(et,ei,eo)=>{let ea=(get(el,et,{_f:{}})._f||{}).ref;set(es.errors,et,{...ei,ref:ea}),ev.state.next({name:et,errors:es.errors,isValid:!1}),eo&&eo.shouldFocus&&ea&&ea.focus&&ea.focus()},watch=(et,ei)=>isFunction(et)?ev.watch.subscribe({next:eo=>et(_getWatch(void 0,ei),eo)}):_getWatch(et,ei,!0),unregister=(et,ei={})=>{for(let ea of et?convertToArrayPayload(et):eh.mount)eh.mount.delete(ea),eh.array.delete(ea),get(el,ea)&&(ei.keepValue||(unset(el,ea),unset(ef,ea)),ei.keepError||unset(es.errors,ea),ei.keepDirty||unset(es.dirtyFields,ea),ei.keepTouched||unset(es.touchedFields,ea),eo.shouldUnregister||ei.keepDefaultValue||unset(ec,ea));ev.watch.next({}),ev.state.next({...es,...ei.keepDirty?{isDirty:_getDirty()}:{}}),ei.keepIsValid||_updateValid()},register=(et,ei={})=>{let es=get(el,et),ea=isBoolean(ei.disabled);return set(el,et,{_f:{...es&&es._f?es._f:{ref:{name:et}},name:et,mount:!0,...ei}}),eh.mount.add(et),es?ea&&set(ef,et,ei.disabled?void 0:get(ef,et,getFieldValue(es._f))):updateValidAndValue(et,!0,ei.value),{...ea?{disabled:ei.disabled}:{},...eo.shouldUseNativeValidation?{required:!!ei.required,min:getRuleValue(ei.min),max:getRuleValue(ei.max),minLength:getRuleValue(ei.minLength),maxLength:getRuleValue(ei.maxLength),pattern:getRuleValue(ei.pattern)}:{},name:et,onChange,onBlur:onChange,ref:ea=>{if(ea){register(et,ei),es=get(el,et);let eo=isUndefined(ea.value)&&ea.querySelectorAll&&ea.querySelectorAll("input,select,textarea")[0]||ea,eu=isRadioOrCheckbox(eo),ed=es._f.refs||[];(eu?ed.find(et=>et===eo):eo===es._f.ref)||(set(el,et,{_f:{...es._f,...eu?{refs:[...ed.filter(live),eo,...Array.isArray(get(ec,et))?[{}]:[]],ref:{type:eo.type,name:et}}:{ref:eo}}}),updateValidAndValue(et,!1,void 0,eo))}else(es=get(el,et,{}))._f&&(es._f.mount=!1),(eo.shouldUnregister||ei.shouldUnregister)&&!(isNameInFieldArray(eh.array,et)&&ep.action)&&eh.unMount.add(et)}}},handleSubmit=(et,ei)=>async ea=>{ea&&(ea.preventDefault&&ea.preventDefault(),ea.persist&&ea.persist());let eu=!0,ec=cloneObject(ef);ev.state.next({isSubmitting:!0});try{if(eo.resolver){let{errors:et,values:ei}=await _executeSchema();es.errors=et,ec=ei}else await executeBuildInValidation(el);isEmptyObject(es.errors)?(ev.state.next({errors:{},isSubmitting:!0}),await et(ec,ea)):(ei&&await ei({...es.errors},ea),eo.shouldFocusError&&focusFieldBy(el,et=>get(es.errors,et),eh.mount))}catch(et){throw eu=!1,et}finally{es.isSubmitted=!0,ev.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(es.errors)&&eu,submitCount:es.submitCount+1,errors:es.errors})}},resetField=(et,ei={})=>{get(el,et)&&(isUndefined(ei.defaultValue)?setValue(et,get(ec,et)):(setValue(et,ei.defaultValue),set(ec,et,ei.defaultValue)),ei.keepTouched||unset(es.touchedFields,et),ei.keepDirty||(unset(es.dirtyFields,et),es.isDirty=ei.defaultValue?_getDirty(et,get(ec,et)):_getDirty()),!ei.keepError&&(unset(es.errors,et),eb.isValid&&_updateValid()),ev.state.next({...es}))},reset=(ei,eo={})=>{let ea=ei||ec,eu=cloneObject(ea),eg=ei&&!isEmptyObject(ei)?eu:ec;if(eo.keepDefaultValues||(ec=ea),!eo.keepValues){if(eo.keepDirtyValues)for(let et of eh.mount)get(es.dirtyFields,et)?set(eg,et,get(ef,et)):setValue(et,get(eg,et));else{if(ed&&isUndefined(ei))for(let et of eh.mount){let ei=get(el,et);if(ei&&ei._f){let et=Array.isArray(ei._f.refs)?ei._f.refs[0]:ei._f.ref;try{isHTMLElement(et)&&et.closest("form").reset();break}catch(et){}}}el={}}ef=et.shouldUnregister?eo.keepDefaultValues?cloneObject(ec):{}:eu,ev.array.next({values:eg}),ev.watch.next({values:eg})}eh={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},ep.mount=!eb.isValid||!!eo.keepIsValid,ep.watch=!!et.shouldUnregister,ev.state.next({submitCount:eo.keepSubmitCount?es.submitCount:0,isDirty:eo.keepDirty||eo.keepDirtyValues?es.isDirty:!!(eo.keepDefaultValues&&!deepEqual(ei,ec)),isSubmitted:!!eo.keepIsSubmitted&&es.isSubmitted,dirtyFields:eo.keepDirty||eo.keepDirtyValues?es.dirtyFields:eo.keepDefaultValues&&ei?getDirtyFields(ec,ei):{},touchedFields:eo.keepTouched?es.touchedFields:{},errors:eo.keepErrors?es.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},setFocus=(et,ei={})=>{let eo=get(el,et)._f,es=eo.refs?eo.refs[0]:eo.ref;es.focus(),ei.shouldSelect&&es.select()};return{control:{register,unregister,getFieldState,_executeSchema,_getWatch,_getDirty,_updateValid,_removeUnmounted,_updateFieldArray,_getFieldArray,_subjects:ev,_proxyFormState:eb,get _fields(){return el},get _formValues(){return ef},get _stateFlags(){return ep},set _stateFlags(value){ep=value},get _defaultValues(){return ec},get _names(){return eh},set _names(value){eh=value},get _formState(){return es},set _formState(value){es=value},get _options(){return eo},set _options(value){eo={...eo,...value}}},trigger,register,handleSubmit,watch,setValue,getValues,reset,resetField,clearErrors,unregister,setError,setFocus,getFieldState}}function useForm(et={}){let ei=es.useRef(),[eo,ea]=es.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});ei.current?ei.current.control._options=et:ei.current={...createFormControl(et),formState:eo};let eu=ei.current.control,el=es.useCallback(et=>{shouldRenderFormState(et,eu._proxyFormState,!0)&&(eu._formState={...eu._formState,...et},ea({...eu._formState}))},[eu]);return useSubscribe({subject:eu._subjects.state,callback:el}),es.useEffect(()=>{eu._stateFlags.mount||(eu._proxyFormState.isValid&&eu._updateValid(),eu._stateFlags.mount=!0),eu._stateFlags.watch&&(eu._stateFlags.watch=!1,eu._subjects.state.next({})),eu._removeUnmounted()}),ei.current.formState=getProxyFormState(eo,eu._proxyFormState),ei.current}}}]);
//# sourceMappingURL=3711-af822168b87795f7.js.map